"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8013],{47337:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=n(74848),t=n(28453);const r={layout:"default",title:"Server configuration",parent:"Guides",sidebar_position:2},a="Server configuration",o={id:"guides/server-config",title:"Server configuration",description:"Minimum configuration",source:"@site/docs/guides/2-server-config.md",sourceDirName:"guides",slug:"/guides/server-config",permalink:"/sba-angular/docs/guides/server-config",draft:!1,unlisted:!1,editUrl:"https://github.com/sinequa/sba-angular/tree/main/docs/guides/2-server-config.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{layout:"default",title:"Server configuration",parent:"Guides",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Architecture",permalink:"/sba-angular/docs/guides/architecture"},next:{title:"Development",permalink:"/sba-angular/docs/guides/development"}},c={},l=[{value:"Minimum configuration",id:"minimum-configuration",level:2},{value:"Apps",id:"apps",level:2},{value:"Web Services",id:"web-services",level:2},{value:"Query web service (default: <em>_query</em>)",id:"query-web-service-default-_query",level:3},{value:"Preview web service (default: <em>_preview</em>)",id:"preview-web-service-default-_preview",level:3},{value:"Labels web service (default: <em>_labels</em>)",id:"labels-web-service-default-_labels",level:3},{value:"Auto-complete web service (default: <em>_autocomplete</em>)",id:"auto-complete-web-service-default-_autocomplete",level:3},{value:"Export web service (default: <em>_queryexport</em>)",id:"export-web-service-default-_queryexport",level:3},{value:"Sponsored links service (default: <em>_sponsoredlinks</em>)",id:"sponsored-links-service-default-_sponsoredlinks",level:3},{value:"Workspaces",id:"workspaces",level:2},{value:"Unzip the Sinequa Angular workspace",id:"unzip-the-sinequa-angular-workspace",level:3},{value:"Upload your Angular workspace to Sinequa ES",id:"upload-your-angular-workspace-to-sinequa-es",level:3},{value:"Workspace",id:"workspace",level:3},{value:"Other actions with workspace",id:"other-actions-with-workspace",level:3},{value:"CORS and WebApp configuration",id:"cors-and-webapp-configuration",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"server-configuration",children:"Server configuration"}),"\n",(0,i.jsx)(s.h2,{id:"minimum-configuration",children:"Minimum configuration"}),"\n",(0,i.jsxs)(s.p,{children:["The minimum configuration required to get started is an ",(0,i.jsx)(s.strong,{children:"App"})," and a ",(0,i.jsx)(s.strong,{children:"Query"})," web service."]}),"\n",(0,i.jsxs)(s.p,{children:["To create an ",(0,i.jsx)(s.strong,{children:"App"})," configuration, in the administration:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Go to ",(0,i.jsx)(s.em,{children:"Search-based applications > Apps"}),","]}),"\n",(0,i.jsxs)(s.li,{children:["In ",(0,i.jsx)(s.em,{children:"Apps"}),", click ",(0,i.jsx)(s.em,{children:"New Angular app"}),", give it a name then click ",(0,i.jsx)(s.em,{children:"Ok"}),". You will be redirected to the configuration page of the new ",(0,i.jsx)(s.strong,{children:"App"}),".\nIt is also pre-filled with the default web services."]}),"\n",(0,i.jsxs)(s.li,{children:["If you want to use a different ",(0,i.jsx)(s.strong,{children:"Query"})," web service other than the default one, click ",(0,i.jsx)(s.em,{children:"Edit"}),", and in the list of Queries,\nchoose your web service and save."]}),"\n"]}),"\n",(0,i.jsx)("div",{className:"margin-horiz--xl",children:(0,i.jsx)("img",{src:n(21134).A,alt:"New Angular app action"})}),"\n",(0,i.jsx)("div",{className:"text--center",children:(0,i.jsx)("em",{children:"'New Angular app' action in Apps"})}),"\n",(0,i.jsxs)(s.p,{children:["At this point, your Sinequa server can be used to develop an SBA, and you can start the ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/guides/development",children:"development guide"})," or spend more time reading the documentation below to learn more about fully configuring the server."]}),"\n",(0,i.jsx)(s.h2,{id:"apps",children:"Apps"}),"\n",(0,i.jsxs)(s.p,{children:["In order to work, an SBA needs a named ",(0,i.jsx)(s.strong,{children:"App"})," configuration to exist on the Sinequa server.\nThis configuration is the entry point which references all the ",(0,i.jsx)(s.a,{href:"#web-services",children:(0,i.jsx)(s.strong,{children:"Web Services"})})," that the SBA will use.\nThe App can also contain ",(0,i.jsx)(s.strong,{children:"configuration"})," (in JSON format) which may be passed to the Angular application.\nFinally, the App can be restricted to specific ",(0,i.jsx)(s.strong,{children:"Users and Groups"}),", rather than being open to all."]}),"\n",(0,i.jsxs)(s.p,{children:["The list of Apps can be found in the administration interface under ",(0,i.jsx)(s.em,{children:"Search-Based Applications > Apps"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"List of Apps",src:n(66728).A+"",width:"1425",height:"305"})}),"\n",(0,i.jsx)("div",{className:"text--center",children:(0,i.jsx)("em",{children:"List of applications in the Sinequa server administration"})}),"\n",(0,i.jsxs)(s.p,{children:["In this form, a new App may be created by clicking on the ",(0,i.jsx)(s.em,{children:"New Angular App"})," button."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"name of the App"})," is important, as it will be used by the Angular application to request data via the Web Services.\nThe configuration of an App specifies the ",(0,i.jsx)(s.strong,{children:"list of Web Services"})," available for this App.\nIf the App is deployed on the Sinequa server, it needs to point to an ",(0,i.jsx)(s.strong,{children:"Angular workspace"}),", which is shown via the property ",(0,i.jsx)(s.em,{children:"Workspace application"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"App Configuration",src:n(36139).A+"",width:"1520",height:"619"})}),"\n",(0,i.jsx)("div",{className:"text--center",children:(0,i.jsx)("em",{children:"App configuration - General tab"})}),"\n",(0,i.jsxs)(s.p,{children:["In the ",(0,i.jsx)(s.strong,{children:"Customization (JSON)"})," tab of the App configuration, it is possible to write data (in JSON syntax),\nwhich will be passed to the Angular app on initialization.\nThe benefit of using this field (rather than just writing the data in the app source code) is that this data may change\nwithout having to recompile the Angular app.\nFor example, if you specify a list of widgets to be displayed, you will only need to modify this field\nand refresh the page to visualize the difference."]}),"\n",(0,i.jsx)(s.p,{children:"The underlying Monaco editor can verify that your JSON is valid and in any case, Sinequa ES verifies the JSON validity\nwhen saving the App configuration and notifies you should the JSON be not valid."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Customization tab",src:n(79496).A+"",width:"1507",height:"421"})}),"\n",(0,i.jsx)("div",{className:"text--center",children:(0,i.jsx)("em",{children:"App configuration - Customization (JSON) tab"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Customization tab with error",src:n(92994).A+"",width:"1527",height:"360"}),"\nApp configuration - Customization (JSON) tab - when the JSON is not valid"]}),"\n",(0,i.jsxs)(s.p,{children:["Please refer to ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/tipstricks/configuration#server-side-configuration",children:"Tips & tricks - Server-side-configuration"})," for an example of how to use the JSON data to customize vanilla-search."]}),"\n",(0,i.jsxs)(s.p,{children:["In the ",(0,i.jsx)(s.strong,{children:"Advanced"})," tab of the App configuration, it is possible to restrict the availability of the app to certain users and groups.\nYou can also assign the current App configuration as the default Angular app for a user or a group.\nThis default Angular app is used when the assigned user navigates on the Sinequa server without specifying the app that they want to use."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Advanced tab",src:n(45731).A+"",width:"1519",height:"548"}),"\nApp configuration - Advanced tab"]}),"\n",(0,i.jsx)(s.h2,{id:"web-services",children:"Web Services"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Web Services"})," configurations allow you to configure the behaviour of certain endpoints of the REST API, which allows:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"To minimize the size and complexity of the requests sent to the server"}),"\n",(0,i.jsx)(s.li,{children:"To prevent exposing sensitive or internal parameters and settings to the client side, which could be used maliciously or impact negatively the overall performance of Sinequa ES."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The list of Web Services can be found in the administration interface under ",(0,i.jsx)(s.em,{children:"Search-Base Applications > Web Services"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Advanced tab",src:n(26498).A+"",width:"846",height:"357"}),"\nList of ",(0,i.jsx)("strong",{children:"configurable"})," Web Services in the Sinequa server administration"]}),"\n",(0,i.jsxs)(s.h3,{id:"query-web-service-default-_query",children:["Query web service (default: ",(0,i.jsx)(s.em,{children:"_query"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Query"})," web service is one of the most integrated and sophisticated web service of Sinequa.\nIt is at the heart of our application samples, ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/apps/vanilla-search",children:"Vanilla Search"})," and ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/apps/pepper",children:"Pepper"}),".\nThis service allows to build complex search queries (incl. tabs, facet selection, advanced search, etc.) to retrieve data from the Sinequa indexes."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"General"})," tab of the Query web service configuration allows the configuration of these key parameters:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Index list"}),": The list of indexes which this web service may query."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"QueryPlugin"}),": A ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/tipstricks/plugins",children:"server-side plugin"})," (written in C#), which lets you customize the search queries, or post-process the responses."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Aggregations"}),": A list of ",(0,i.jsx)(s.em,{children:"Aggregations"}),'. An aggregation is a short-list of metadata computed for the given query.\nFor example, if you search for "automobile manufacturer", the ',(0,i.jsx)(s.em,{children:"Company"}),' aggregation could contain entries like "Volkswagen", "BMW", "Tesla", etc.']}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Query Web Service configuration - General tab",src:n(29846).A+"",width:"945",height:"805"}),"\nQuery Web Service configuration - General tab"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Results Page"})," tab of the Query web service configuration allows to configure these key parameters:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Tab Search"}),": Specifies a list of tabs to search in a specific subset of the corpus.\nTabs filter on a single column of the index (e.g. the format of document, name of the data source, etc.).\nThe Angular application may select a tab by setting ",(0,i.jsx)(s.code,{children:"query.tab = '<tab name>'"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Search scopes"}),': A "scope" can restrict the search to a specific subset of the corpus, with SQL rules.\nThe Angular application may select a scope by setting ',(0,i.jsx)(s.code,{children:"query.scope = '<scope name>'"}),".\nUnlike tabs, it is not possible to compute the number of documents for each scope with one query (since each scope has a specific ruleset)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Relevant Extracts"}),": The relevant extracts are key passages and sentences found in the searched documents, which are then used to compute a short summary typically displayed in the search results."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Relevant extracts",src:n(6386).A+"",width:"763",height:"136"}),"\nExample of relevant extracts"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Search settings"})," tab of the Query web service configuration allows to configure in fine detail the query sent to the Sinequa engine.\nIn particular:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Analysis of the user query:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Language detection & dictionaries"}),"\n",(0,i.jsx)(s.li,{children:"Intent detection"}),"\n",(0,i.jsx)(s.li,{children:"Entity detection"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Custom SQL:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Custom columns (SELECT)"}),"\n",(0,i.jsx)(s.li,{children:"Custom filters (WHERE)"}),"\n",(0,i.jsx)(s.li,{children:"Duplicate removal (GROUP BY)"}),"\n",(0,i.jsx)(s.li,{children:"Sorting options (ORDER BY)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Other options:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Calculation of most relevant "Concepts"'}),"\n",(0,i.jsx)(s.li,{children:"Similar document search settings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Relevance"})," tab of the Query web service configuration allows to configure in fine detail the relevance calculations performed by the Sinequa engine.\nIn particular:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The statistical part of the relevance (global score formula, words & forms weighting)"}),"\n",(0,i.jsx)(s.li,{children:"The freshness score (favoring most recent content)"}),"\n",(0,i.jsx)(s.li,{children:"The part name weights (favoring specific parts of the content)"}),"\n",(0,i.jsx)(s.li,{children:"The class weights (favoring specific classes of content)"}),"\n",(0,i.jsx)(s.li,{children:"The relevance transforms (allowing for custom forms of relevance, such as popularity, ratings or importance)"}),"\n",(0,i.jsx)(s.li,{children:"The relevance feedback model (allowing to account for user feedback)"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Advanced"})," tab of the Query web service configuration allows to configure meaningful aliases and labels for specific columns.\nThis is useful to avoid exposing the bare structure of the index to front-end developers.\nInstead, developers will see and use explicit variable names, which are used consistently across the different web services."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Aliases",src:n(85669).A+"",width:"758",height:"217"}),"\nExample of query aliases"]}),"\n",(0,i.jsxs)(s.h3,{id:"preview-web-service-default-_preview",children:["Preview web service (default: ",(0,i.jsx)(s.em,{children:"_preview"}),")"]}),"\n",(0,i.jsx)(s.p,{children:"The Preview web service form configures the access to document HTML previews (stored in Sinequa document cache).\nIt has two settings:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:".css file"}),": Contains one (or more) CSS file names that are injected in the HTML previews as ",(0,i.jsx)(s.code,{children:"<link>"})," elements, either with a relative path (relative to the URL of the application), or an absolute URL.\nThe default SBA includes a ",(0,i.jsx)(s.code,{children:"preview/preview.scss"})," file which is built as ",(0,i.jsx)(s.code,{children:"/preview.css"}),".\nThe default setting is therefore ",(0,i.jsx)(s.code,{children:"preview.css"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:".js file"}),": Contains one (or more) JS file names that are injected in the HTML previews as ",(0,i.jsx)(s.code,{children:"<script>"})," elements, either with a relative path (relative to the URL of the application), or an absolute URL.\nThe default setting is ",(0,i.jsx)(s.code,{children:"preview/preview.js"}),". This is packaged by default in the SBA workspace. It is necessary to let the SBA interact with the content of the preview."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Highlights to display"}),': Categories to be "highlighted" in the preview.\nFor example, relevant extracts are highlighted by wrapping ',(0,i.jsx)(s.code,{children:"<span>"})," tags around the relevant text.\nThe visual highlight itself is effectively done by the aforementioned ",(0,i.jsx)(s.code,{children:"preview.css"})," file (for example with a CSS rule of the type ",(0,i.jsx)(s.code,{children:"background-color: yellow;"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Preview configuration",src:n(88490).A+"",width:"1419",height:"437"}),"\nExample of preview configuration"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"highlights",src:n(24605).A+"",width:"762",height:"71"}),"\nExample of a highlighted HTML (each colored passage corresponds to a <span> element with a specific highlighted entity class)"]}),"\n",(0,i.jsxs)(s.h3,{id:"labels-web-service-default-_labels",children:["Labels web service (default: ",(0,i.jsx)(s.em,{children:"_labels"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["The Labels web service form allows to configure the columns of the index where tags are stored.\n",(0,i.jsx)(s.strong,{children:"Labels"})," may be ",(0,i.jsx)(s.strong,{children:"private"})," (specific to each user) or ",(0,i.jsx)(s.strong,{children:"public"})," (visible to everyone).\nBoth options may be enabled simultaneously."]}),"\n",(0,i.jsx)(s.p,{children:"It is possible to restrict specific actions (Label creation, label modification) to specific populations of users."}),"\n",(0,i.jsx)(s.p,{children:"This service also exposes an auto-complete feature to easily search and select a specific label."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Labels configuration",src:n(16161).A+"",width:"1460",height:"725"}),"\nExample of labels configuration"]}),"\n",(0,i.jsxs)(s.h3,{id:"auto-complete-web-service-default-_autocomplete",children:["Auto-complete web service (default: ",(0,i.jsx)(s.em,{children:"_autocomplete"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["The auto-complete web service essentially lists ",(0,i.jsx)(s.strong,{children:"suggest queries"})," that provide suggestions when the user types some text in a form.\nRefer to the ",(0,i.jsx)(s.a,{href:"https://doc.sinequa.com/en.sinequa-es.v11/Content/en.sinequa-es.admin-sba-how-to-auto-complete.html",children:"documentation"})," on suggest queries for more information."]}),"\n",(0,i.jsx)(s.p,{children:'The last option "Match the search terms anywhere in field values" is useful for the facet component\'s search bar: A search for "York" will match both "New York" and "Yorkshire" values. However this option comes incurs a performance penalty, so it should be used only when necessary.'}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Autocomplete configuration",src:n(73224).A+"",width:"953",height:"303"}),"\nExample of auto-complete configuration"]}),"\n",(0,i.jsxs)(s.h3,{id:"export-web-service-default-_queryexport",children:["Export web service (default: ",(0,i.jsx)(s.em,{children:"_queryexport"}),")"]}),"\n",(0,i.jsx)(s.p,{children:"The export web service specifies the list of columns and maximum number of lines (records) to be exported when a user requests an export of the results list.\nFor obvious security and performance reasons, these parameters are not exposed directly to the user themselves."}),"\n",(0,i.jsx)(s.p,{children:"Note that this web service is always used with the query web service.\nThe latter provides the query configuration to retrieve the documents that user sees in the SBA.\nTherefore, the number of exported records is also limited by the configuration of the associated query web service.\nIn particular, the query configuration can limit the maximum number of records per index that can be returned by the query."}),"\n",(0,i.jsx)(s.p,{children:"You need to verify such options in the query web service when you change the maximum number of lines in the export web service."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Export configuration",src:n(63622).A+"",width:"1457",height:"506"}),"\nExample of export configuration"]}),"\n",(0,i.jsxs)(s.h3,{id:"sponsored-links-service-default-_sponsoredlinks",children:["Sponsored links service (default: ",(0,i.jsx)(s.em,{children:"_sponsoredlinks"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["The configuration of the sponsored links specifies the number of links returned by the API.\nRefer to the ",(0,i.jsx)(s.a,{href:"https://doc.sinequa.com/en.sinequa-es.v11/Content/en.sinequa-es.admin-ui-sponsored-links.html",children:"documentation"})," on sponsored links for more information."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Sponsored links configuration",src:n(28615).A+"",width:"1460",height:"402"}),"\nExample of Sponsored links configuration"]}),"\n",(0,i.jsx)(s.h2,{id:"workspaces",children:"Workspaces"}),"\n",(0,i.jsxs)(s.p,{children:["The third part of the server-side configuration that powers the SBA framework is the ",(0,i.jsx)(s.strong,{children:"Workspaces"}),' section.\n"Workspaces" literally refer to Angular workspaces, (which is what ',(0,i.jsx)(s.a,{href:"https://github.com/sinequa/sba-angular",children:"this Github repository"})," contains)."]}),"\n",(0,i.jsxs)(s.p,{children:["The SBA Framework includes an Angular workspace available on ",(0,i.jsx)(s.a,{href:"https://github.com/sinequa/sba-angular",children:"Github"}),", which is also shipped with Sinequa releases as a ",(0,i.jsx)(s.strong,{children:"zip file"}),".\nThis archive can be unzipped, downloaded and uploaded on the Sinequa server via the Sinequa administration."]}),"\n",(0,i.jsxs)(s.p,{children:["The workspaces are located in ",(0,i.jsx)(s.code,{children:"<Sinequa data folder>\\sba"}),", which is where Sinequa looks for them, to display their content in the administration and to serve the built applications that they contain. This is also where you would deploy your application for Sinequa to serve it (via an upload, or a ",(0,i.jsx)(s.code,{children:"git pull"})," -- See ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/guides/development#workspace",children:"Workspace"}),")."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"Workspaces"})," section displays the workspaces under ",(0,i.jsx)(s.code,{children:"<Sinequa data folder>\\sba"}),". It is located in the administration under ",(0,i.jsx)(s.em,{children:"Search-Based Applications > Workspaces"}),":"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspaces",src:n(37122).A+"",width:"1413",height:"663"}),"\nAngular workspaces in the administration"]}),"\n",(0,i.jsx)(s.p,{children:"At the start, there will be no workspace pre-loaded in Sinequa ES.\nYou can:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"either load the default Sinequa Angular workspace from a default zip provided with your Sinequa release,"}),"\n",(0,i.jsxs)(s.li,{children:["or clone the ",(0,i.jsx)(s.a,{href:"https://github.com/sinequa/sba-angular",children:"Github repository"})," in ",(0,i.jsx)(s.code,{children:"<Sinequa data folder>/sba"})," (See ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/guides/development#workspace",children:"Workspace"}),"),"]}),"\n",(0,i.jsxs)(s.li,{children:["or import your own Angular workspace, noting that only multi-project Angular workspaces are supported (cf. ",(0,i.jsx)(s.a,{href:"https://angular.io/guide/file-structure#multiple-projects",children:"multi-project Angular workspace"})," for more information about Angular workspace type)."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"unzip-the-sinequa-angular-workspace",children:"Unzip the Sinequa Angular workspace"}),"\n",(0,i.jsxs)(s.p,{children:["To unzip the default Sinequa workspace, click ",(0,i.jsx)(s.strong,{children:"New > Unzip default Angular workspace"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Unzip default Angular workspace",src:n(31733).A+"",width:"1462",height:"216"}),"\n'Unzip default Angular workspace' action"]}),"\n",(0,i.jsxs)(s.p,{children:["You will be prompted to choose a name for your workspace.\nThis process can take a few minutes.\nYou can follow its progress either by looking at the banner on the top of Workspaces administration page or by going to ",(0,i.jsx)(s.strong,{children:"Tasks status"})," page, the progress status is named ",(0,i.jsx)(s.strong,{children:"UnzipAngularWorkspace"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Unzip Angular workspace process status",src:n(48470).A+"",width:"1155",height:"563"}),"\nStatus of 'Unzip default Angular workspace' action in Tasks status"]}),"\n",(0,i.jsx)(s.h3,{id:"upload-your-angular-workspace-to-sinequa-es",children:"Upload your Angular workspace to Sinequa ES"}),"\n",(0,i.jsxs)(s.p,{children:[":::warning ",(0,i.jsx)(s.strong,{children:"IMPORTANT:"})]}),"\n",(0,i.jsx)(s.p,{children:"Please verify with the administrator of your Sinequa server that the size of your zip does not exceed the upload size limit of the server.\nIf it is the case, the server will refuse the upload request with HTTP 413 (Request Entity Too Large).\n:::"}),"\n",(0,i.jsxs)(s.p,{children:["This size limit is controlled in IIS by the option ",(0,i.jsx)(s.code,{children:"maxAllowedContentLength"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-XML",children:'<requestFiltering>\n  <requestLimits maxAllowedContentLength="<limit-in-bytes>" />\n</requestFiltering>\n'})}),"\n",(0,i.jsxs)(s.p,{children:["To import your workspace, click ",(0,i.jsx)(s.strong,{children:"New > Import Angular workspace"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Import Angular workspace",src:n(68402).A+"",width:"1462",height:"216"}),"\n",(0,i.jsx)(s.em,{children:"'Import Angular workspace' action"})]}),"\n",(0,i.jsx)(s.p,{children:"A wizard will be shown to guide you through the import procedure."}),"\n",(0,i.jsxs)(s.p,{children:["First you need to provide the zip of your workspace. You can only import one workspace at a time.\nThen choose the name of the exported workspace.\nIf you want to overwrite an existing workspace, remember to tick the checkbox ",(0,i.jsx)(s.strong,{children:"Overwite existing workspace"}),".\nOtherwise, the wizard will not let you continue with the import procedure."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Import Angular workspace wizard - page 1",src:n(68488).A+"",width:"1115",height:"814"}),"\n'Import Angular workspace' wizard - page 1"]}),"\n",(0,i.jsxs)(s.p,{children:["Once you have finished, click on ",(0,i.jsx)(s.strong,{children:"Next"}),".\nThe next page provides you a summary of the steps that will be executed to import your workspace."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Import Angular workspace wizard - page 2",src:n(47939).A+"",width:"1114",height:"816"}),"\n'Import Angular workspace' wizard - page 2"]}),"\n",(0,i.jsxs)(s.p,{children:["Click on ",(0,i.jsx)(s.strong,{children:"Next"})," when you are ready to begin the import procedure.\nThe import can take some time, once it is complete you can click on the ",(0,i.jsx)(s.strong,{children:"Finish"})," button to view the newly-imported workspace."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Import Angular workspace wizard - page 3 - Finish",src:n(66618).A+"",width:"1112",height:"815"}),"\n'Import Angular workspace' wizard - page 3 - Finish"]}),"\n",(0,i.jsx)(s.h3,{id:"workspace",children:"Workspace"}),"\n",(0,i.jsx)(s.p,{children:"When opening a workspace in the administration, you will see a variety of information related to your workspace."}),"\n",(0,i.jsxs)(s.p,{children:["Firstly, there is information about the download link of your workspace.\nIf there are no download links, you can generate them via ",(0,i.jsx)(s.strong,{children:"More actions > Generate workspace zip"})," or\n",(0,i.jsx)(s.strong,{children:"More actions > Generate minimal workspace zip (without 'node_modules' folder)"}),".\nNote that distributable folders ",(0,i.jsx)(s.code,{children:"dist"})," and ",(0,i.jsx)(s.code,{children:"dist-folder"})," are not included in download zip."]}),"\n",(0,i.jsxs)(s.p,{children:["Generating a zip file can take a few minutes.\nYou can follow the generation progress either by looking at the banner on the top of Workspaces administration page or by going to ",(0,i.jsx)(s.strong,{children:"Tasks status"})," page, the progress status is named ",(0,i.jsx)(s.strong,{children:"GenerateAngularWorkspaceZip"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Note that if your workspace does not contain a ",(0,i.jsx)(s.code,{children:"node_modules"})," folder, only the generation action and entry of the minimal zip are shown."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace generate zip actions",src:n(54490).A+"",width:"1466",height:"334"}),"\nWorkspace - Generate zip actions and download link"]}),"\n",(0,i.jsxs)(s.p,{children:["Secondly, there is a list of all build scripts declared in the ",(0,i.jsx)(s.code,{children:"package.json"})," file at the root of the workspace.\nYou can execute the build script directly in the grid or from the ",(0,i.jsx)(s.code,{children:"Build"})," menu at the top-right of the administration page."]}),"\n",(0,i.jsxs)(s.p,{children:["You can follow the script progress either by looking at the banner on the top of Workspaces administration page or by going to ",(0,i.jsx)(s.strong,{children:"Tasks status"})," page, the progress status is named ",(0,i.jsx)(s.strong,{children:"BuildAngularWorkspace"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace build scripts",src:n(39641).A+"",width:"1462",height:"546"}),"\nWorkspace - Build scripts"]}),"\n",(0,i.jsxs)(s.p,{children:["The build commands write their result to either ",(0,i.jsx)(s.code,{children:"/dist"})," or ",(0,i.jsx)(s.code,{children:"/dist-debug"})," depending on the configuration of the Angular workspace.\nThis is where Sinequa looks for when serving a particular application.\nObviously, the Angular app needs to be built in order to be served..."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Serving an app",src:n(55546).A+"",width:"1920",height:"792"}),"\nWhen the app is hosted on Sinequa, the URL contains the name of the App, which itself points to a specific workspace and app"]}),"\n",(0,i.jsxs)(s.p,{children:["Finally, you can browse the content of workspace folder and that of its files or sub-folders.\nNote that the contents of the ",(0,i.jsx)(s.code,{children:"node_modules"})," folder are not shown in the administration due to their size"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace content",src:n(98365).A+"",width:"1465",height:"648"}),"\nWorkspace - Content"]}),"\n",(0,i.jsxs)(s.p,{children:["If there is a ",(0,i.jsx)(s.code,{children:"README"})," markdown file in the workspace root, this file is also rendered at the end of the workspace page."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace readme",src:n(47302).A+"",width:"1465",height:"817"}),"\nWorkspace - README"]}),"\n",(0,i.jsx)(s.h3,{id:"other-actions-with-workspace",children:"Other actions with workspace"}),"\n",(0,i.jsxs)(s.p,{children:["You can execute ",(0,i.jsx)(s.code,{children:"npm install"})," directly on the workspace administration page, if the WebApp server has access to the Internet.\nBy default, this action is disabled on the administration. You need to activate it via ",(0,i.jsx)(s.strong,{children:"Global options > Advanced > Enable 'npm install' (default: false)"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["You can follow the execution of the ",(0,i.jsx)(s.code,{children:"npm install"})," action either by looking at the banner on the top of Workspaces administration page or by going to ",(0,i.jsx)(s.strong,{children:"Tasks status"})," page, the progress status is named ",(0,i.jsx)(s.strong,{children:"ExecuteNpmInstallAngularWorkspace"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace execute npm install",src:n(90501).A+"",width:"1467",height:"210"}),"\nWorkspace - Execute 'npm install' action"]}),"\n",(0,i.jsxs)(s.p,{children:["From the workspace administration, you can create an App configuration based on one of the application project of the workspace.\nTo create a new App, go to ",(0,i.jsx)(s.strong,{children:"More actions > New app from"}),", where you can choose the base project for the App."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"Workspace new ap",src:n(69454).A+"",width:"1466",height:"220"}),"\nWorkspace - New app actions"]}),"\n",(0,i.jsx)(s.h2,{id:"cors-and-webapp-configuration",children:"CORS and WebApp configuration"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.strong,{children:"REST API"})," of Sinequa can be used by a remote application (which is the case when you serve your app with ",(0,i.jsx)(s.code,{children:"ng serve"}),", without a proxy -- See ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/guides/development#connecting-to-the-sinequa-server",children:"Connecting to the Sinequa server"}),"). Note that this mode causes ",(0,i.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",children:"Cross-Origin Resource Sharing"})," (CORS) issues."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Distributed Architecture > Webapp > Stateless Mode > Permitted origins for Cross-Origin Resource Sharing (CORS) requests"})," set to the URL you will use to test your app locally. For example, ",(0,i.jsx)(s.code,{children:"http://localhost:4200"})," (or just ",(0,i.jsx)(s.code,{children:"*"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Distributed Architecture > Webapp > Stateless Mode > Return HTTP error codes"})," enabled (default)."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["As some ",(0,i.jsx)(s.a,{href:"/sba-angular/docs/tipstricks/login-methods",children:"authentication methods"})," need to store a JSON Web Token (JWT) on the client-side, a cookie must be stored with the ",(0,i.jsx)(s.code,{children:"SameSite=None"})," and ",(0,i.jsx)(s.code,{children:"Secure"})," options. This means that ",(0,i.jsx)(s.strong,{children:"the Sinequa API must necessarily be served over HTTPS"})," for these authentication methods to work."]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},21134:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-new-angular-app-action-e97ad383553f3ef18602dc12d273e926.png"},92994:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-app-conf-with-error-7b9ff1b5a9eec7a4cfdc4ded2f978f86.png"},79496:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-app-conf-d1aafbd33463ec611b2fe74409b3fc86.png"},45731:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-app-sec-35e1834dd4980287dd95c744a5685248.png"},36139:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-app-d382226e18ca10459e9626e808bed62f.png"},66728:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-apps-749252877d063d8091b29eb769064c96.png"},73224:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-autocomplete-ab901ae65958d39c7f7339c2b9e01500.png"},63622:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-export-abfb707f49daa1da449885f40f7f6943.png"},68402:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-import-angular-workspace-8157d877bf20ef17d7a5f655af1db3fa.png"},68488:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-import-wiz-1-545cdf8c9a0a7b7b3b3570b60d19b71e.PNG"},47939:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-import-wiz-2-e3d28d794761e31904d403dbe7bb7589.PNG"},66618:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-import-wiz-3-cc053c27679fa805556c571649ef4d45.PNG"},16161:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-labels-90bc7cd965e2a7caa7ca80e4bc575b9c.png"},88490:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-preview-eedf63f88ee2bfc6cf33128c2365e08f.png"},85669:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-query-aliases-b98c7c52b79b518e007d8a9c472cee2b.png"},29846:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-query-5ef1fb2fec84d26a818c5650a797c9dd.png"},55546:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-serving-7183d053be5daa71d8df00883d4349e1.png"},28615:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-sponsored-links-ecbeb44cabc11cd096a3bb45e68b6bb7.png"},48470:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-unzip-angular-workspace-status-28be6667a43d1cd45a0a344ded5ff259.png"},31733:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-unzip-default-angular-workspace-17081109c44e49a563b9ea85fe1f4564.png"},39641:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-build-scripts-0c6b679cd3d6ef248d03522e0f672b95.png"},98365:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-content-c47cf1e7b50fdd70894d8d5be83224e8.png"},90501:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-execute-npm-install-578c95dc0d74279cb3a1fd898003eeaa.png"},54490:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-generate-download-zip-ee4edd646395bdf7b1a546895bb2e0fc.png"},69454:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-new-app-a4ce5736814685aa69ae98fee2833a65.png"},47302:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspace-readme-0a63e1c1cbccf3cc0d16dcbbc6a2c068.png"},37122:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-workspaces-26ff40eac739bfb5bc3384dad22a44b5.png"},26498:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/admin-ws-3ad2be95001ac0f7a4528174f3495f1b.png"},24605:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/highlights-368346b3df12be0743b5d61e6a2d12e2.png"},6386:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/relevant-extracts-5be4aa019e1c57be306ed8b7b3cbf1a1.png"},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var i=n(96540);const t={},r=i.createContext(t);function a(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);