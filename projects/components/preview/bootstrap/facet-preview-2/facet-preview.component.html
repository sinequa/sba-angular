<div class="d-flex flex-column {{iframeClass}}" [ngStyle]="{'height.px': scaledHeight, 'width.%':invFactor}">
    <sq-preview-document-iframe [downloadUrl]="downloadUrl" 
                                [scalingFactor]="scalingFactor" 
                                (onPreviewReady)="document = $event"
                                *ngIf="!!downloadUrl">
    </sq-preview-document-iframe>
	<img *ngIf="!downloadUrl" class="sq-app-loading" src="assets/loading.gif">
</div>

<ng-template #headerTpl>
    <div class="flex-grow-1 flex-basis-0 overflow-hidden">
        <sq-result-title [record]="record"></sq-result-title>
    </div>
</ng-template>

<ng-template #subHeaderTpl>
    <sq-metadata *ngIf="metadata && metadata.length > 0"
        [record]="record" 
        [items]="metadata"
        [showTitles]="true" 
        [showIcons]="true" 
        [clickable]="false"
        [spacing]="'compact'">
    </sq-metadata>
</ng-template>
