<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tipstricks/login-methods" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Login methods | Sinequa SBA Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/sba-angular/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/sba-angular/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/sba-angular/docs/tipstricks/login-methods"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Login methods | Sinequa SBA Framework"><meta data-rh="true" name="description" content="Sinequa supports different authentication protocols, involving different web services and processes. The general process of login (including authentication and initialization of the app) is managed by the LoginService provided in the @sinequa/core/login library."><meta data-rh="true" property="og:description" content="Sinequa supports different authentication protocols, involving different web services and processes. The general process of login (including authentication and initialization of the app) is managed by the LoginService provided in the @sinequa/core/login library."><link data-rh="true" rel="icon" href="/sba-angular/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/sba-angular/docs/tipstricks/login-methods"><link data-rh="true" rel="alternate" href="https://github.com/sba-angular/docs/tipstricks/login-methods" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/sba-angular/docs/tipstricks/login-methods" hreflang="x-default"><link rel="stylesheet" href="/sba-angular/assets/css/styles.3d4ad778.css">
<script src="/sba-angular/assets/js/runtime~main.7afd9482.js" defer="defer"></script>
<script src="/sba-angular/assets/js/main.7c34123d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sba-angular/"><div class="navbar__logo"><img src="/sba-angular/assets/index/sinequa-logo-light-sm.png" alt="Sinequa Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sba-angular/assets/index/sinequa-logo-light-sm.png" alt="Sinequa Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SBA Framework</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sba-angular/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sinequa/sba-angular" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sba-angular/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sba-angular/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sba-angular/docs/guides">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sba-angular/docs/tutorial">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sba-angular/docs/libraries">Libraries</a><button aria-label="Expand sidebar category &#x27;Libraries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sba-angular/docs/apps">Applications</a><button aria-label="Expand sidebar category &#x27;Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/sba-angular/docs/tipstricks">Tips and Tricks</a><button aria-label="Collapse sidebar category &#x27;Tips and Tricks&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/debugging">Debugging your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/metadata">Custom metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/entities">Custom entities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/responsive-design">Responsive Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/user-preferences">User preferences</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/user-settings">User settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/environment">Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sba-angular/docs/tipstricks/login-methods">Login methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/thirdparty">Third Party Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/d3-angular">D3 and Angular</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/speed-performance">Speed and Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/export-standalone">Exporting Standalone Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/audit">Auditing applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/plugins">Server-side Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/startup">Application Startup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sba-angular/docs/tipstricks/query-intent">Query Intent Detection</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sba-angular/docs/releases">Releases</a><button aria-label="Expand sidebar category &#x27;Releases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sba-angular/docs/contact">Contact</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sba-angular/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sba-angular/docs/tipstricks"><span itemprop="name">Tips and Tricks</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Login methods</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Login Methods</h1>
<p>Sinequa supports different authentication protocols, involving different web services and processes. The general process of login (including authentication and initialization of the app) is managed by the <code>LoginService</code> provided in the <a href="/sba-angular/docs/libraries/core/login"><code>@sinequa/core/login</code></a> library.</p>
<p>The authentication process depends on the following parameters:</p>
<ul>
<li>The authentication protocol: Default (Login/Password), Windows Single Sign-On, SAML2 or OAuth2.</li>
<li>Where the SBA is hosted: On the Sinequa server, or somewhere else (via CORS or proxy).</li>
<li>Whether the Sinequa server is accessed over HTTP or HTTPS.</li>
<li>Some browsers may also behave differently.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-protocols">Authentication protocols<a href="#authentication-protocols" class="hash-link" aria-label="Direct link to Authentication protocols" title="Direct link to Authentication protocols">‚Äã</a></h2>
<p>The goal of authentication protocols is to guarantee that <strong>each HTTP request</strong> comes from an identified user who has a certain set of permissions. Authentication can be managed either by Sinequa or by the web server (IIS):</p>
<ul>
<li>
<p>Sinequa handles authentication for Login/Password, SAML2 and OAuth2 (IIS is configured with <strong>Anonymous authentication</strong>, meaning it just lets requests go through to Sinequa).</p>
</li>
<li>
<p>IIS handles authentication for Windows Single Sign On (NTLM or Kerberos protocols). In this case, Sinequa lets IIS do all the work, and it gets the user&#x27;s id from IIS itself (<code>LOGON_USER</code> variable).</p>
<p>üõà <em>In that sense, Windows authentication is convenient. However, it can also prove to work erratically, and differently from one browser to the other. We generally recommend using more modern protocols like SAML2 or OAuth2.</em></p>
</li>
</ul>
<p>When Sinequa handles authentication rather than IIS (normal situation), it emits a <strong>JSON Web Token</strong> (JWT) that the SBA stores in a cookie (<code>sinequa-web-token</code> or <code>sinequa-web-token-secure</code>, depending on the protocol). The settings for the JWT are found in the Webapp settings (Advanced tab). In particular it is possible to increase the life span of the tokens and to automatically refresh them, to let the user be authenticated for a longer period.</p>
<p><img decoding="async" loading="lazy" alt="Json web token config" src="/sba-angular/assets/images/json-web-tokens-74f0592bfba378d13e2ac41398945022.png" width="752" height="472" class="img_ev3q"></p>
<p>The JWT is sent with every HTTP(S) request via the <code>sinequa-web-token</code> cookie. This allows Sinequa to know the identity of the user. When the token expires, Sinequa returns 401 errors (Unauthorized). Upon receiving this error, the SBA re-initiates the authentication process (the user does not see these errors because they are <em>intercepted</em> by the <code>LoginInterceptor</code> provided in the <a href="/sba-angular/docs/libraries/core/login"><code>@sinequa/core/login</code></a> library).</p>
<p>In the case of the SAML or OAuth protocols, an external service must authenticate the user. The browser navigates out of the SBA to this <strong>Identity Provider</strong> (for example, Google&#x27;s Single Sign On). Then the browser navigates back to the Sinequa server, which redirects again to the Sinequa SBA, while delivering the JWT cookie.</p>
<p>The general login process is depicted in the following diagram (depending on the authentication protocol, only a subset of this diagram is relevant for a given application):</p>
<p><img decoding="async" loading="lazy" alt="Login process" src="/sba-angular/assets/images/login-process-842e9e66eeed376e2a6a2f26868a55d6.png" width="1396" height="897" class="img_ev3q">
<em>Red boxes represents calls to Sinequa web services</em></p>
<p>Notice that the Login process includes a call to three web services: <strong>app</strong> (configuration of the app and its web services), <strong>principal</strong> (identity of the user, typically from a directory), <strong>usersettings</strong> (user data, including baskets, saved queries, etc.). The login process is considered complete when all 3 services have downloaded this data and are initialized.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sba-hosting-cors-or-not-cors">SBA Hosting: CORS or not CORS<a href="#sba-hosting-cors-or-not-cors" class="hash-link" aria-label="Direct link to SBA Hosting: CORS or not CORS" title="Direct link to SBA Hosting: CORS or not CORS">‚Äã</a></h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">Cross-Origin Resource Sharing</a> (CORS) is a mechanism that allows using web services from third party sources. CORS is active when a request is sent to a URL with an origin different from the URL in the browser. For example:</p>
<ul>
<li>If your website is hosted on <code>https://example.com/myapp</code> and makes a HTTP GET request to <code>https://example.com/api/examples/42</code>, the two URLs have the same origin, so CORS is not active.</li>
<li>If your website is hosted on <code>https://example.com/myapp</code> and makes a HTTP GET request to <code>https://cool-service.com/api/examples/42</code>, the two URLs have a different origin, so CORS is active.</li>
</ul>
<p>The problem with CORS is that, when active, the browser restricts a number of functionalities. For example, in some cases it is not possible to store cookies (that are used for authentication) and it is not possible to interact with iFrames (that are used for document previews).</p>
<p><strong>CORS may be an issue depending on where your SBA is deployed:</strong></p>
<ul>
<li>
<p>When your SBA is deployed on a Sinequa WebApp, there is no problem because CORS is not active: The application&#x27;s URL (<code>https://my-sinequa-server.com/app/my-sba</code>) has the same origin as the application&#x27;s API (<code>https://my-sinequa-server.com/api</code>).</p>
<p><img decoding="async" loading="lazy" alt="CORS inactive" src="/sba-angular/assets/images/cors-inactive-8ae1fdeadcf6367b951fa7ab9b042631.png" width="251" height="312" class="img_ev3q"></p>
</li>
<li>
<p>However, if your SBA is deployed on a different domain (<code>https://my-app-server.com</code>), CORS is active and you might run into some issues, which can interfere with the login process (particularly with HTTP instead of HTTPS). When the SBA is hosted on a different server, the <code>url</code> of the Sinequa server must be specified in the <code>StartConfig</code> object (defined in <code>app.module.ts</code>):</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://my-sinequa-server.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="CORS active" src="/sba-angular/assets/images/cors-active-76d34052c996ba2307c07b03f042c072.png" width="367" height="315" class="img_ev3q"></p>
</li>
<li>
<p>Another case where CORS can be active is during the development of the app. Using <code>ng serve</code> means your app is deployed on a local server (by default <code>http://localhost:4200</code>), but the Sinequa API is somewhere else (for example <code>https://my-sinequa-server.com/api</code>).</p>
<p>Since this is a common situation, Angular CLI includes a way to <strong>proxy</strong> the Sinequa API <em>as if it were hosted on the development server</em>. Instead of running <code>ng serve my-app</code>, we simply run <code>ng serve my-app --proxyConfig=./path/to/proxy.json</code>, with a proxy file looking as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">proxy.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/api&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When this proxy is enabled, requests that are sent to <code>http://localhost:4200/api</code> are <strong>forwarded</strong> to <code>https://my-sinequa-server.com/api</code>. From the browser&#x27;s point of view, everything comes from <code>http://localhost:4200</code> (both the app and the API), so CORS is not active.</p>
<p><img decoding="async" loading="lazy" alt="Proxy active" src="data:image/png;base64,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" width="503" height="154" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Proxy active" src="/sba-angular/assets/images/proxy2-6d249dc60bf38431a000774912211fae.png" width="1281" height="508" class="img_ev3q"></p>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Note that when the URL of the server is defined in a proxy file, it should not be defined in <code>StartConfig</code> object. In fact if you define a <code>url</code> in your <code>StartConfig</code>, it cancels the effect of the proxy: the requests will be sent to the <code>url</code>, thus activating CORS.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-vs-https">HTTP vs HTTPS<a href="#http-vs-https" class="hash-link" aria-label="Direct link to HTTP vs HTTPS" title="Direct link to HTTP vs HTTPS">‚Äã</a></h2>
<p>Another parameter which can influence login protocols is whether you use HTTP or HTTPS for your Sinequa server. The table below summarizes the compatibility for the different protocol we support. We generally recommend using HTTPS, as it is more secure and suffers less restrictions from the browser than HTTP.</p>
<table><thead><tr><th></th><th>HTTP</th><th>HTTPS</th></tr></thead><tbody><tr><td>Default (Login/Password)</td><td>‚úîÔ∏è Compatible (with CORS inactive*)</td><td>‚úîÔ∏è Compatible</td></tr><tr><td>SAML 2.0</td><td>‚ùå Incompatible</td><td>‚úîÔ∏è Compatible</td></tr><tr><td>OAuth 2.0</td><td>‚úîÔ∏è Compatible (with CORS inactive*)</td><td>‚úîÔ∏è Compatible</td></tr><tr><td>Windows Authentication</td><td>‚úîÔ∏è Compatible</td><td>‚úîÔ∏è Compatible</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>When CORS is active, the browser requires Cookies to be stored with the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite#SameSiteNone_requires_Secure" target="_blank" rel="noopener noreferrer"><code>SameSite=None</code> attribute, which also requires the <code>Secure</code> attribute</a>, only available with HTTPS. So effectively, it is not possible to store our JWT with HTTP + CORS.</p></div></div>
<p>Windows Authentication does not require storing a JWT, so it is not affected by this problem.</p>
<p>Note that with HTTP the cookie storing the JWT is named <code>sinequa-web-token</code>, and with HTTPS it is named <code>sinequa-web-token-secure</code>.</p>
<p>In development mode, with <code>ng serve</code>, you can serve your application over HTTPS with the <code>--ssl=true</code> option. You should generally use this option if your Sinequa backend is served over HTTPS too, even though it is not mandatory (except for SAML authentication for example).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-login-methods">Setting Up Login Methods<a href="#setting-up-login-methods" class="hash-link" aria-label="Direct link to Setting Up Login Methods" title="Direct link to Setting Up Login Methods">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-form-loginpassword">Default form (login/password)<a href="#default-form-loginpassword" class="hash-link" aria-label="Direct link to Default form (login/password)" title="Direct link to Default form (login/password)">‚Äã</a></h3>
<p>By default, if no login method is configured, you log in to Sinequa via a form asking for your username and password (which must exist in a domain on the Sinequa back-end):</p>
<p><img decoding="async" loading="lazy" alt="Login form" src="/sba-angular/assets/images/login-form-de92b099645d448dab7c967714fbe4db.png" width="404" height="276" class="img_ev3q"></p>
<p>Your credentials are sent to the <code>api/v1/webToken</code> endpoint which returns a JWT directly. In the background, this is the process that is active:</p>
<p><img decoding="async" loading="lazy" alt="Login process" src="/sba-angular/assets/images/login-process-default-3cd949fdc4155dd0dce8cb1f778cffde.png" width="1249" height="860" class="img_ev3q"></p>
<p>Notice that on application startup, the calls to the 3 web services (app, usersettings and principal) fail with a 401 error: This is what triggers the display of the login popup asking for your credentials. These errors are invisible to the user because the <code>LoginInterceptor</code> (on the left) has taken care of them. But if you have a look at the browser&#x27;s inspector, you should see them nevertheless:</p>
<p><img decoding="async" loading="lazy" alt="401 errors" src="data:image/png;base64,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" width="765" height="78" class="img_ev3q"></p>
<p>To set-up authentication via the default form, you must do the following:</p>
<ul>
<li>
<p>On the Sinequa server, do not configure any auto-login method in the webapp.</p>
</li>
<li>
<p>In IIS, only enable <strong>Anonymous Authentication</strong>.</p>
</li>
<li>
<p>In your <code>app.module.ts</code>, do not configure any auto-login provider. Your <code>StartConfig</code> should look like:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(optionally with the <code>url</code> property to enable CORS)</p>
</li>
<li>
<p>In development mode, you can use a proxy to avoid CORS issues. Run <code>ng serve &lt;app name&gt; --proxyConfig=./path/to/proxy.json</code>, with the following configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">proxy.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/api&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/xdownload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-single-sign-on">Windows Single Sign-On<a href="#windows-single-sign-on" class="hash-link" aria-label="Direct link to Windows Single Sign-On" title="Direct link to Windows Single Sign-On">‚Äã</a></h3>
<p>Windows Single Sign-On (SSO) allows to use the fact that a user is already authentified by logging in to Windows, and that the browser can transmit their identity directly to the server.</p>
<p>One benefit of this approach is that all the work is managed by the Web Server (IIS). Therefore the application can send HTTP requests directly, without having to respond to 401 errors or exit the application.</p>
<p>The process is very much simplified:</p>
<p><img decoding="async" loading="lazy" alt="Login process SSO" src="/sba-angular/assets/images/login-sso-1efa3a05c18f4f19625527adf8fc718e.png" width="701" height="869" class="img_ev3q"></p>
<p>The configuration of Windows SSO is documented in the <a href="https://doc.sinequa.com/en.sinequa-es.v11/content/en.sinequa-es.how-to.implement-sso.md" target="_blank" rel="noopener noreferrer">official documentation</a>.</p>
<p>If the SSO works for accessing the Sinequa administration, it should work for authenticating HTTP requests for a SBA deployed on the same WebApp.</p>
<p>Sometimes, however, the browser might prompt you for your credentials:</p>
<p><img decoding="async" loading="lazy" alt="SSO prompt" src="data:image/png;base64,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" width="565" height="293" class="img_ev3q"></p>
<p>This can happen for various reasons, and can be quite erratic:</p>
<ul>
<li>The application may not be recognized as part of the intranet, and thus the credentials are not transmitted. To solve this, add the application URL to your <em>Control Panel &gt; Internet Options &gt; Security &gt; Local Intranet &gt; Sites &gt; Advanced</em>.</li>
<li>The problem may occur for the first requests, but after refreshing the page and/or cancelling the prompt, the problem eventually goes away (a symptom of this can be seen in you browser inspector (Network tab): sometimes some requests are successful (200) but others fail (401), causing the prompt).</li>
</ul>
<p>When Windows SSO is enabled, do not configure any auto-login provider in your <code>app.module.ts</code>. Your <code>StartConfig</code> should look like:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Developers might get 401 errors when using <code>ng serve</code> with a regular proxy configuration. You must replace your proxy file (by default <code>src/proxy.conf.json</code>) by a JavaScript file with the following content (eg. <code>src/proxy.conf.js</code>):</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">proxy.conf.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Agent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;agentkeepalive&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Agent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">context</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/api&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/xdownload&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://my-sinequa-server.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">secure</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">changeOrigin</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">agent</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">maxSockets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">keepAlive</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">maxFreeSockets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">keepAliveMsecs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">timeout</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6000000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">keepAliveTimeout</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function-variable function" style="color:#d73a49">onProxyRes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token parameter">proxyRes</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;www-authenticate&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            proxyRes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proxyRes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                proxyRes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The above script is for a server accessed over <strong>HTTP</strong>. For <strong>HTTPS</strong>, replace <code>Agent</code> by <code>HttpsAgent</code> (3 occurrences)</p></div></div>
<p>And of course, update your <code>ng serve</code> command to reflect this new file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run ng serve myapp -- </span><span class="token parameter variable" style="color:#36acaa">--proxyConfig</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">./projects/myapp/src/proxy.conf.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-sso-and-cors">Windows SSO and CORS<a href="#windows-sso-and-cors" class="hash-link" aria-label="Direct link to Windows SSO and CORS" title="Direct link to Windows SSO and CORS">‚Äã</a></h3>
<p>If you need to enable Windows SSO with CORS, additional steps are needed:</p>
<ol>
<li>
<p>To enable CORS, add the <code>url</code> of the Sinequa server in your <code>app.module.ts</code>, in the <code>StartConfig</code> object.</p>
</li>
<li>
<p><strong>Dependencies</strong>: You need to install the following modules (IIS / Security):</p>
<ul>
<li>Windows Authentication</li>
<li>URL Authorization</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Login form" src="/sba-angular/assets/images/iis-deps-4488dc5b4d18d21bd85dbd97ea56dc6c.png" width="626" height="622" class="img_ev3q"></p>
</li>
<li>
<p>Configure your site Authentication: <strong>Enable both Anonymous and Windows Authentication</strong></p>
<p><img decoding="async" loading="lazy" alt="Login form" src="/sba-angular/assets/images/iis-sso-5ca22c968ef16516be192551c70ad665.png" width="511" height="221" class="img_ev3q"></p>
</li>
<li>
<p>If not already done, enable CORS in your WebApp configuration from the specified origins (See <a href="/sba-angular/docs/guides/server-config">Server configuration</a>).</p>
</li>
<li>
<p><strong>Add security rules into the web.config file</strong></p>
<p>Go into the sinequa/website folder where your WebApplication is installed. Edit the <code>web.config</code> file:</p>
<p><img decoding="async" loading="lazy" alt="Login form" src="/sba-angular/assets/images/web-config-6d5e966fc953aa18c742117e4b81a8ba.png" width="879" height="516" class="img_ev3q"></p>
<p>Add the following <code>&lt;security&gt;</code> tag into the <code>&lt;system.webServer&gt;</code> tag:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">web.config.xml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">security</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">authorization</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">remove</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">users</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">*</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">roles</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">verbs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">add</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">accessType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Allow</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">users</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">?</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">verbs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">OPTIONS</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">add</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">accessType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Deny</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">users</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">?</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">verbs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">GET, POST</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">add</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">accessType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Allow</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">users</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">*</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">verbs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">GET, POST</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">authorization</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">security</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Login form" src="/sba-angular/assets/images/web-config-xml-ea8765672302d1f736377728c3f409ed.png" width="1487" height="808" class="img_ev3q"></p>
<p><strong>What it actually means:</strong></p>
<ul>
<li>Allow <code>OPTIONS</code> queries for all <strong>anonymous users</strong></li>
<li>Denied <code>GET</code> / <code>POST</code> queries for all <strong>anonymous users</strong> (So <code>GET</code> and <code>POST</code> will be handled by the next rule)</li>
<li>Allow  <code>GET</code> / <code>POST</code> queries for all users (here <strong>authenticated users</strong>)</li>
</ul>
<p><strong>Why this configuration:</strong></p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">Cross-Origin Resource Sharing</a> standard works by adding new HTTP headers that let servers describe which origins are permitted to read that information from a web browser. Additionally, for HTTP request methods that can cause side-effects on server data (in particular, HTTP methods other than <code>GET</code>, or <code>POST</code> with certain MIME types), the specification mandates that browsers &quot;preflight&quot; the request, soliciting supported methods from the server with the HTTP <code>OPTIONS</code> request method, and then, upon &quot;approval&quot; from the server, sending the actual request. Servers can also inform clients whether &quot;credentials&quot; (such as Cookies and HTTP Authentication) should be sent with requests.</p>
<p>When you fire an AJAX call to Sinequa REST API, two HTTP queries are sent (this is automatically done by your browser):</p>
<ul>
<li>
<p>The &quot;preflight&quot; : Using <code>OPTION</code> Method, will get the list of <code>Access-Control-Allow</code> in order to know if it can go to step #2. This first HTTP call is not passing any credential token in the HTTP headers so it&#x27;ll be treated as &quot;anonymous&quot; by IIS</p>
</li>
<li>
<p>Send the actual <code>GET</code> or <code>POST</code> query to the REST API using authentication in the HTTP headers</p>
</li>
</ul>
</li>
</ol>
<p>:::warning Important note
Upgrading your Sinequa environment will override the <code>web.config</code> file. So it‚Äôs highly recommended to backup this file in the folder and replace the web.config file with the backup after an upgrade.
:::</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="saml-20">SAML 2.0<a href="#saml-20" class="hash-link" aria-label="Direct link to SAML 2.0" title="Direct link to SAML 2.0">‚Äã</a></h3>
<p>The SAML 2.0 protocol is described in this picture (source: <a href="https://en.wikipedia.org/w/index.php?curid=32521419" target="_blank" rel="noopener noreferrer">Wikipedia</a>):</p>
<p><img decoding="async" loading="lazy" alt="SAML 2.0" src="/sba-angular/assets/images/saml-protocol-3b301c11d50db38219077033410768c5.png" width="1280" height="905" class="img_ev3q"></p>
<p>In the context of Sinequa:</p>
<ul>
<li>&quot;Service Provider&quot; is the Sinequa Server</li>
<li>&quot;User Agent&quot; is the user</li>
<li>&quot;Identity Provider&quot; is the SSO service able to authenticate the user on behalf of Sinequa</li>
<li>1: &quot;Request target resource&quot; is a HTTP request sent by the user to the Sinequa server, for example to search for content.</li>
<li>2/3: &quot;Request SSO service&quot; is Sinequa redirecting the user to the third party service, thus forcing the user out of the SBA (because he is not authenticated).</li>
<li>4/5: &quot;Request Assertion Consumer Service&quot; is the SSO service redirecting the user to the Sinequa server (in practice the URL is <code>&lt;sinequa server&gt;/saml/redirect</code>).</li>
<li>6/7: &quot;Request target resource&quot; is Sinequa redirecting the User to the SBA, thus going back to step 1, except this time Sinequa granted a Json Web Token (JWT) to the user, persisted in a Cookie (<code>sinequa-web-token-secure</code>). Therefore, as long as this cookie doesn&#x27;t expire, all the requests of the user will be properly authenticated.</li>
<li>8: &quot;Respond with request resource&quot; if the user is indeed authenticated, Sinequa responds with the requested data (however if the JWT fails to be stored in a cookie, then we are back to step 2 and potentially will keep looping indefinitely)</li>
</ul>
<p>In the front-end part of the SBA, the login process is as follows:</p>
<p><img decoding="async" loading="lazy" alt="SAML 2.0" src="/sba-angular/assets/images/login-process-saml-3183de98c796322afeae19bcbb698c47.png" width="1301" height="890" class="img_ev3q"></p>
<p>In the Sinequa administration, the configuration of the SAML 2.0 protocol involves various steps:</p>
<ul>
<li>
<p>Configure an identity provider in your <strong>Sinequa WebApp Auto-Login tab</strong> (See the <a href="https://doc.sinequa.com/en.sinequa-es.v11/Content/en.sinequa-es.admin-grid-webapps.md" target="_blank" rel="noopener noreferrer">official documentation</a>)</p>
<p><img decoding="async" loading="lazy" alt="SAML identity provider configuration" src="/sba-angular/assets/images/saml-00f51454ccb6f7887f8a42dd90c50288.png" width="813" height="649" class="img_ev3q"></p>
</li>
<li>
<p>You can export the standard metadata required to configure the identity provider by clicking on the &quot;Download metadata&quot; button:</p>
<p><img decoding="async" loading="lazy" alt="SAML identity provider configuration" src="data:image/png;base64,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" width="363" height="37" class="img_ev3q"></p>
</li>
<li>
<p>This standard metadata file can normally be imported in standard SAML providers (like MS ADFS), but the configuration can also be entered manually.</p>
</li>
<li>
<p>Add the name of the provider to your <code>app.module.ts</code> (here we named it &quot;identity&quot;):</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoSAMLProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;identity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>If your SBA is deployed on the Sinequa webapp, this configuration should enable you to log in to your application, just as you can log in to the Sinequa administration.</p>
<p>If your SBA is deployed on a different domain, CORS is active and you need to add the <code>url</code> of the Sinequa server to your <code>StartConfig</code>.</p>
<p>In development mode, you should use a proxy to avoid CORS issues. Run <code>ng serve &lt;app name&gt; --ssl=true --proxyConfig=./path/to/proxy.json</code>, with the following configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">proxy.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/api&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/xdownload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/saml/redirect&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>However, the problem with using a proxy in this situation is that the JWT cookie will be associated with the Sinequa server URL (<code>https://my-sinequa-server.com</code>) instead of your proxy URL (<code>https://localhost:4200</code>). The requests (sent to the latter) will not be authenticated and the user will keep being redirected to the Identity Provider.</p></div></div>
<p><strong>You therefore need to configure an alternative provider where the URL of the service is set to the proxy URL</strong>. In your Webapp configuration (Auto-Login tab), duplicate the provider and set the &quot;Server url override&quot; parameter to <code>https://localhost:4200</code>:</p>
<p><img decoding="async" loading="lazy" alt="Server url override" src="data:image/png;base64,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" width="548" height="32" class="img_ev3q"></p>
<p>Then download the metadata file and add it to the configuration of your Identity Provider.</p>
<p>You can now use this new provider in your SBA with <code>ng serve</code>. Update the <code>StartConfig</code> to use this alternative provider (here called <code>&quot;identity-dev&quot;</code>).<br>
<!-- -->You can use the environment files to use <code>&quot;identity-dev&quot;</code> in development mode (with <code>ng serve</code>) and <code>&quot;identity&quot;</code> when the app is deployed on the server:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">development</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">production</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoSAMLProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;identity-dev&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoSAMLProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">autoSAMLProvider</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">development</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">production</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/environment.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoSAMLProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;identity-dev&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/environment.prod.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoSAMLProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;identity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauth2">OAuth2<a href="#oauth2" class="hash-link" aria-label="Direct link to OAuth2" title="Direct link to OAuth2">‚Äã</a></h3>
<p>OAuth is a protocol for managing &quot;Access Delegation&quot;, which is used by websites to let users grant them access to their information. In practice, it is not used by Sinequa to access any information of the user, but simply for identifying them and granting them an identity token. The process is therefore very similar to SAML.</p>
<p>In the front-end part of the SBA, the login process is the same as SAML:</p>
<p><img decoding="async" loading="lazy" alt="OAuth 2.0 login process" src="/sba-angular/assets/images/login-process-saml-3183de98c796322afeae19bcbb698c47.png" width="1301" height="890" class="img_ev3q"></p>
<p>In the Sinequa administration, the configuration of the OAuth2 protocol involves various steps:</p>
<ul>
<li>
<p>Configure an identity provider in your Sinequa WebApp (See the <a href="https://doc.sinequa.com/en.sinequa-es.v11/Content/en.sinequa-es.admin-grid-webapps.md" target="_blank" rel="noopener noreferrer">official documentation</a>)</p>
<p><img decoding="async" loading="lazy" alt="OAuth identity provider" src="/sba-angular/assets/images/oauth-34816df0f5fcef1078df9df135c66454.png" width="714" height="320" class="img_ev3q"></p>
</li>
<li>
<p>In the configuration of your OAuth identity provider (eg. Google SSO), include the URL of the Sinequa server (<code>https://my-sinequa-server.com/auth/redirect</code>) as a redirection URL.</p>
</li>
<li>
<p>Add the name of the provider to your <code>app.module.ts</code>:</p>
</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">app.module.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">`</span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If your SBA is deployed on the Sinequa server, this configuration should enable you to log in to your application, just as you can log in to the Sinequa administration.</p>
<p>If your SBA is deployed on a different server, CORS is active and you need to add the <code>url</code> of the Sinequa server to your <code>StartConfig</code>.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">`</span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://my-sinequa-server.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In development mode, you should use a proxy to avoid CORS issues. Run <code>ng serve &lt;app name&gt; --ssl=true --proxyConfig=./path/to/proxy.json</code>, with the following configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">proxy.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/api&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/xdownload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;/auth/redirect&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;target&quot;: &quot;https://my-sinequa-server.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;secure&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;changeOrigin&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>However, the problem with using a proxy in this situation is that the JWT cookie will be associated with the Sinequa server URL (<code>https://my-sinequa-server.com</code>) instead of your proxy URL (<code>https://localhost:4200</code>). The requests (sent to the latter) will not be authenticated and the user will keep being redirected to the Identity Provider.</p></div></div>
<p><strong>You therefore need to configure an alternative provider where the URL of the service is set to the proxy URL</strong>. In your Webapp configuration (Auto-Login tab), duplicate the provider and set the &quot;Server url override&quot; parameter to <code>https://localhost:4200</code>:</p>
<p><img decoding="async" loading="lazy" alt="Server url override" src="/sba-angular/assets/images/oauth-server-override-1d2d9f4ac35ab8b54eeb6f32c63a1219.png" width="1132" height="679" class="img_ev3q"></p>
<p>In the Identity Provider&#x27;s configuration, you also need to add <code>https://localhost:4200/auth/redirect</code> as a valid redirection URL.</p>
<p>You can now use this new provider in your SBA with <code>ng serve</code>. Update the <code>StartConfig</code> to use this alternative provider (here called <code>&quot;google-dev&quot;</code>).<br>
<!-- -->You can use the environment files to use <code>&quot;google-dev&quot;</code> in development mode (with <code>ng serve</code>) and <code>&quot;google&quot;</code> when the app is deployed on the server:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">development</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">production</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google-dev&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> startConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StartConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">autoOAuthProvider</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">development</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">production</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/environment.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google-dev&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/environment.prod.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    autoOAuthProvider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-authentication">Custom Authentication<a href="#custom-authentication" class="hash-link" aria-label="Direct link to Custom Authentication" title="Direct link to Custom Authentication">‚Äã</a></h2>
<p>In some situations, authentication is taken care of by a process independent of Sinequa. The identity of the user is known, and we would like the HTTP requests sent to Sinequa to be automatically authenticated. This situation can occur when users go through a reverse proxy or API gateway: The proxy takes care of authentication and users never directly talk to the Sinequa server.</p>
<p>In this case, we need to add the user&#x27;s identity to our HTTP requests, and catch this identity in Sinequa with a <code>WebAppPlugin</code>. One solution can be to forward an authentication token to Sinequa and decrypt it on the server to get the identity of the user.</p>
<p>The plugin might look as follows. Note that <code>GetLoginInfo()</code> is called for every HTTP request, so it needs to be relatively fast (it can be slow on the first call, to store some information in cache, and then fast for the following requests):</p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">namespace Sinequa.Plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class CustomAuthenticationPlugin : WebAppPlugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public override LoginInfo GetLoginInfo(IDocContext Ctxt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // The HttpManager can provide any information about the current HTTP request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HttpManager hm = Ctxt.Hm;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // We can also get information from a URL query parameter with Hm.Request(&lt;name&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // or from a cookie with Hm.RequestCookieGet(&lt;name&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            string head  = hm.RequestHeader(&quot;Authorization&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Then we need to obtain the identity of the user somehow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            string userid = decryptHeader(head);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // The identity might not be determined, in which case returning `null` results in a 401 error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(userid == null) return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // The user id was determined, so we return a LoginInfo object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            LoginInfo login = new LoginInfo();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            login.UserInfo = userid;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return login;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sinequa/sba-angular/tree/main/docs/tipstricks/login-methods.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/sba-angular/docs/tipstricks/environment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Environment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sba-angular/docs/tipstricks/thirdparty"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Third Party Libraries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authentication-protocols" class="table-of-contents__link toc-highlight">Authentication protocols</a></li><li><a href="#sba-hosting-cors-or-not-cors" class="table-of-contents__link toc-highlight">SBA Hosting: CORS or not CORS</a></li><li><a href="#http-vs-https" class="table-of-contents__link toc-highlight">HTTP vs HTTPS</a></li><li><a href="#setting-up-login-methods" class="table-of-contents__link toc-highlight">Setting Up Login Methods</a><ul><li><a href="#default-form-loginpassword" class="table-of-contents__link toc-highlight">Default form (login/password)</a></li><li><a href="#windows-single-sign-on" class="table-of-contents__link toc-highlight">Windows Single Sign-On</a></li><li><a href="#windows-sso-and-cors" class="table-of-contents__link toc-highlight">Windows SSO and CORS</a></li><li><a href="#saml-20" class="table-of-contents__link toc-highlight">SAML 2.0</a></li><li><a href="#oauth2" class="table-of-contents__link toc-highlight">OAuth2</a></li></ul></li><li><a href="#custom-authentication" class="table-of-contents__link toc-highlight">Custom Authentication</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sba-angular/docs/tutorial/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/sinequa" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sinequa.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sinequa/sba-angular" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 <a href="https://www.sinequa.com" aria-alt="Sinequa website">Sinequa</a>. Distributed under the terms of the <a href="https://github.com/sinequa/sba-angular/blob/master/license.txt" aria-alt="MIT license">MIT license</a></div></div></div></footer></div>
</body>
</html>