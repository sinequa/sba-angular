<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Components</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Components</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>BsPreviewHighlights</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>preview/bootstrap/preview-highlights/preview-highlights.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>sq-preview-highlights</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./preview-highlights.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./preview-highlights.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Optional</span>
                                <a href="#highlightDataPerCategory">highlightDataPerCategory</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#keepAllFilter">keepAllFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#keepNoneFilter">keepNoneFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navigationState">navigationState</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#categoryDisplayLabel">categoryDisplayLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#categoryHasMultipleValues">categoryHasMultipleValues</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#categoryIconClass">categoryIconClass</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#categoryLabelPipeParams">categoryLabelPipeParams</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#compareFilters">compareFilters</a>
                            </li>
                            <li>
                                <a href="#first">first</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getCategoryHighlightData">getCategoryHighlightData</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getHighlightValueCount">getHighlightValueCount</a>
                            </li>
                            <li>
                                <a href="#last">last</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#newFilter">newFilter</a>
                            </li>
                            <li>
                                <a href="#next">next</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#previous">previous</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#reset">reset</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectAll">selectAll</a>
                            </li>
                            <li>
                                <a href="#selectFilter">selectFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectNone">selectNone</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#previewData">previewData</a>
                            </li>
                            <li>
                                <a href="#previewDocument">previewDocument</a>
                            </li>
                        </ul>
                    </td>
                </tr>




                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#current">current</a>
                                </li>
                                <li>
                                    <a href="#noData">noData</a>
                                </li>
                                <li>
                                    <a href="#total">total</a>
                                </li>
                                <li>
                                    <a href="#previewReady">previewReady</a>
                                </li>
                                <li>
                                    <a href="#currentValue">currentValue</a>
                                </li>
                                <li>
                                    <a href="#currentCategories">currentCategories</a>
                                </li>
                                <li>
                                    <a href="#nonEmptyCategoryIds">nonEmptyCategoryIds</a>
                                </li>
                                <li>
                                    <a href="#allSelected">allSelected</a>
                                </li>
                                <li>
                                    <a href="#noneSelected">noneSelected</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>


    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="previewData"></a>
                        <b>previewData</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>PreviewData</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:21</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="previewDocument"></a>
                        <b>previewDocument</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/PreviewDocument.html" target="_self" >PreviewDocument</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:20</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="categoryDisplayLabel"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            categoryDisplayLabel
                        </b>
                        <a href="#categoryDisplayLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>categoryDisplayLabel(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="170"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:170</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="categoryHasMultipleValues"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            categoryHasMultipleValues
                        </b>
                        <a href="#categoryHasMultipleValues"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>categoryHasMultipleValues(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="209"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:209</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the category id</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>true if there is more than one option per category</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="categoryIconClass"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            categoryIconClass
                        </b>
                        <a href="#categoryIconClass"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>categoryIconClass(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="159"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:159</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="categoryLabelPipeParams"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            categoryLabelPipeParams
                        </b>
                        <a href="#categoryLabelPipeParams"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>categoryLabelPipeParams(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="174"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:174</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareFilters"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            compareFilters
                        </b>
                        <a href="#compareFilters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>compareFilters(filter1: <a href="../interfaces/HighlightCategoryFilterState.html">HighlightCategoryFilterState</a>, filter2: <a href="../interfaces/HighlightCategoryFilterState.html">HighlightCategoryFilterState</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="359"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:359</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Comparator allowing to sort the filters in the select</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>filter1</td>
                                    <td>
                                                <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >HighlightCategoryFilterState</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>filter2</td>
                                    <td>
                                                <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >HighlightCategoryFilterState</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="first"></a>
                    <span class="name">
                        <b>
                            first
                        </b>
                        <a href="#first"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>first()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="231"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:231</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCategoryHighlightData"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getCategoryHighlightData
                        </b>
                        <a href="#getCategoryHighlightData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCategoryHighlightData(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="166"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>CategoryHighlightData | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getHighlightValueCount"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getHighlightValueCount
                        </b>
                        <a href="#getHighlightValueCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getHighlightValueCount(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="217"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:217</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the category id</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the number of options per category</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="last"></a>
                    <span class="name">
                        <b>
                            last
                        </b>
                        <a href="#last"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>last()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="252"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:252</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newFilter"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            newFilter
                        </b>
                        <a href="#newFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>newFilter(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="309"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:309</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >SimpleHighlightCategoryFilterState</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="next"></a>
                    <span class="name">
                        <b>
                            next
                        </b>
                        <a href="#next"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>next()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="245"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:245</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <b>
                            ngOnChanges
                        </b>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: <a href="https://angular.io/api/core/SimpleChanges" target="_blank">SimpleChanges</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="34"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:34</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>changes</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/SimpleChanges" target="_blank" >SimpleChanges</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="previous"></a>
                    <span class="name">
                        <b>
                            previous
                        </b>
                        <a href="#previous"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>previous()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="238"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:238</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reset"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            reset
                        </b>
                        <a href="#reset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reset()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="58"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:58</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called on init and when non-value filters are clicked
Resets the navigationState entity selection.
Applies the filters to the preview document.
Updates the filtered data.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectAll"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            selectAll
                        </b>
                        <a href="#selectAll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>selectAll()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="267"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:267</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectFilter"></a>
                    <span class="name">
                        <b>
                            selectFilter
                        </b>
                        <a href="#selectFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectFilter(categoryId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, value: <a href="../interfaces/HighlightCategoryFilterState.html">HighlightCategoryFilterState</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="314"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:314</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>categoryId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >HighlightCategoryFilterState</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectNone"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            selectNone
                        </b>
                        <a href="#selectNone"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>selectNone()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="274"
                            class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:274</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="highlightDataPerCategory"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                                <span class="modifier">Optional</span>
                            highlightDataPerCategory</b>
                            <a href="#highlightDataPerCategory"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>HighlightDataPerCategory</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="keepAllFilter"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            keepAllFilter</b>
                            <a href="#keepAllFilter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >HighlightCategoryFilterState</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new SimpleHighlightCategoryFilterState()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="305" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:305</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="keepNoneFilter"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            keepNoneFilter</b>
                            <a href="#keepNoneFilter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/HighlightCategoryFilterState.html" target="_self" >HighlightCategoryFilterState</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new SimpleHighlightCategoryFilterState(HighlightCategoryFilterChoice.None)</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="306" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:306</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navigationState"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navigationState</b>
                            <a href="#navigationState"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/HighlightNavigationState.html" target="_self" >HighlightNavigationState</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:28</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="current"></a>
                        <span class="name"><b>current</b><a href="#current"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>current()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:94</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Index of currently selected entity (from 1)</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="noData"></a>
                        <span class="name"><b>noData</b><a href="#noData"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>noData()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="101" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:101</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>No categories to highlight</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="total"></a>
                        <span class="name"><b>total</b><a href="#total"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>total()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="108" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:108</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Total number of highlights</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="previewReady"></a>
                        <span class="name"><b>previewReady</b><a href="#previewReady"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>previewReady()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="115" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:115</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentValue"></a>
                        <span class="name"><b>currentValue</b><a href="#currentValue"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>currentValue()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="123" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:123</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Returns the currently selected entity/match/extract based on the PreviewData
or potentially by fetching it directly from the HTML document.</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentCategories"></a>
                        <span class="name"><b>currentCategories</b><a href="#currentCategories"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>currentCategories()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="148" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:148</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Get categories of the currently selected entity/match/extract
based on the filtered Highlight data per location</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code>string[]</code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="nonEmptyCategoryIds"></a>
                        <span class="name"><b>nonEmptyCategoryIds</b><a href="#nonEmptyCategoryIds"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>nonEmptyCategoryIds()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="189" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:189</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Returns the list of entity categories that contain values</p>
</div>

                                <div class="io-description">
                                    <b>Returns : </b>    <code>string[]</code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="allSelected"></a>
                        <span class="name"><b>allSelected</b><a href="#allSelected"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>allSelected()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="281" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:281</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="noneSelected"></a>
                        <span class="name"><b>noneSelected</b><a href="#noneSelected"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>noneSelected()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="291" class="link-to-prism">preview/bootstrap/preview-highlights/preview-highlights.ts:291</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, Input, OnChanges, SimpleChanges} from &quot;@angular/core&quot;;
import { HighlightDataPerCategory, CategoryHighlightData, HighlightDataPerLocation, PreviewData } from &quot;@sinequa/core/web-services&quot;;
import { Utils } from &quot;@sinequa/core/base&quot;;
import { PreviewDocument, HighlightCategoryFilterState, HighlightCategoryFilterChoice } from &quot;../../preview-document&quot;;


export interface HighlightNavigationState {
    current: number;
    filters: { [key: string] : HighlightCategoryFilterState };
}


@Component({
    selector: &quot;sq-preview-highlights&quot;,
    templateUrl: &quot;./preview-highlights.html&quot;,
    styleUrls: [&quot;./preview-highlights.scss&quot;]
})
export class BsPreviewHighlights implements OnChanges {

    @Input() previewDocument: PreviewDocument;
    @Input() previewData: PreviewData;

    // Highlight data retrieved by the server
    public highlightDataPerCategory?: HighlightDataPerCategory;
    private highlightDataPerLocation?: HighlightDataPerLocation;

    // Selected entity &amp; filters (the .filters[category] are the NgModel of the select elements)
    public navigationState: HighlightNavigationState;

    // highlight data resulting from filtering
    private filteredHighlightData?: HighlightDataPerLocation;


    ngOnChanges(changes: SimpleChanges) {
        if(changes[&quot;previewData&quot;]){
            this.initialize();
        }
        if (changes[&quot;previewDocument&quot;]) {
            if (this.previewReady) {
                this.moveToFirstSearchTerm();
            }
        }
    }

    private initialize(): void {
        this.highlightDataPerCategory &#x3D; !this.previewData ? undefined : this.previewData.highlightsPerCategory;
        this.highlightDataPerLocation &#x3D; !this.previewData ? undefined : this.previewData.highlightsPerLocation;
        this.navigationState &#x3D; new SimpleHighlightNavigationState(this.nonEmptyCategoryIds);
        this.reset();
    }

    /**
     * Called on init and when non-value filters are clicked
     * Resets the navigationState entity selection.
     * Applies the filters to the preview document.
     * Updates the filtered data.
     */
    public reset(): void {
        this.navigationState.current &#x3D; -1;  // Resets the navigationState entity selection.
        if(this.previewReady)               // Applies the filters to the preview document.
            this.previewDocument.filterHighlights(this.navigationState.filters);
        // Updates the filtered data.
        this.filteredHighlightData &#x3D; this.highlightDataPerLocation ?
            new FilteredHighlightDataPerLocation(this.highlightDataPerLocation, this.navigationState.filters) : undefined;
    }

    /**
     * Selects the first match location (highlight classes and scrolls to it)
     */
    private moveToFirstSearchTerm(): void {
        if (this.filteredHighlightData) {
            for (let i &#x3D; 0, ic &#x3D; this.total; i &lt; ic; i++) {
                const highlight &#x3D; this.filteredHighlightData[i];
                if (highlight.positionInCategories) {
                    let category &#x3D; &quot;term1&quot;;
                    let position &#x3D; highlight.positionInCategories[category];
                    if (!Utils.isNumber(position)) {
                        category &#x3D; &quot;matchlocations&quot;;
                        position &#x3D; highlight.positionInCategories[category];
                    }
                    if (Utils.isNumber(position)) {
                        this.navigationState.current &#x3D; i;
                        this.previewDocument.selectHighlight(category, position);
                        break;
                    }
                }
            }
        }
    }

    /**
     * Index of currently selected entity (from 1)
     */
    get current(): number {
        return this.navigationState.current + 1;
    }

    /**
     * No categories to highlight
     */
    get noData(): boolean {
        return this.nonEmptyCategoryIds.length &#x3D;&#x3D;&#x3D; 0;
    }

    /**
     * Total number of highlights
     */
    get total(): number {
        return this.filteredHighlightData ? this.filteredHighlightData.size() : 0;
    }

    /**
     * @returns true when the document is ready to be interacted with
     */
    get previewReady(): boolean {
        return !!this.previewDocument;
    }

    /**
     * Returns the currently selected entity/match/extract based on the PreviewData
     * or potentially by fetching it directly from the HTML document.
     */
    get currentValue(): string {
        if (this.navigationState.current &lt; 0 || !this.filteredHighlightData) {
            return &quot;&quot;;
        }
        const result: string &#x3D; this.filteredHighlightData[this.navigationState.current].displayValue;
        if (result) {
            return result;
        }
        const values: string[] &#x3D; this.filteredHighlightData[this.navigationState.current].values;
        if (values &amp;&amp; values.length &gt; 0 &amp;&amp; values[0] &amp;&amp; values[0].length &gt; 0) {
            return values[0];
        }
        if (Object.keys(this.filteredHighlightData[this.navigationState.current].positionInCategories).length &#x3D;&#x3D;&#x3D; 1
                &amp;&amp; this.filteredHighlightData[this.navigationState.current].positionInCategories[&quot;extractslocations&quot;]) {
            return this.previewDocument.getHighlightText(
                &quot;extractslocations&quot;,
                this.filteredHighlightData[this.navigationState.current].positionInCategories[&quot;extractslocations&quot;]);
        }
        return &quot;&quot;;
    }

    /**
     * Get categories of the currently selected entity/match/extract
     * based on the filtered Highlight data per location
     */
    get currentCategories(): string[] {
        const result: string[] &#x3D; [];
        if (this.navigationState.current &lt; 0 || !this.filteredHighlightData || this.navigationState.current &gt;&#x3D; this.filteredHighlightData.size()) {
            return result;
        }
        for (const categoryId in this.filteredHighlightData[this.navigationState.current].positionInCategories) {
            result.push(categoryId);
        }
        return result;
    }

    public categoryIconClass(categoryId: string): string {
        if (categoryId.startsWith(&quot;term&quot;)) {
            return &quot;far fa-flag&quot;;
        }
        return &quot;sq-icon-&quot; + categoryId;
    }

    public getCategoryHighlightData(categoryId: string): CategoryHighlightData | undefined {
        return this.highlightDataPerCategory ? this.highlightDataPerCategory[categoryId] : undefined;
    }

    public categoryDisplayLabel(categoryId: string): string {
        return this.highlightDataPerCategory ? this.highlightDataPerCategory[categoryId].categoryDisplayLabel : &quot;&quot;;
    }

    public categoryLabelPipeParams(categoryId: string): any {
        if (!categoryId.startsWith(&quot;term&quot;)) {
            return {};
        }
        const index &#x3D; Number(categoryId.slice(&quot;term&quot;.length));
        if (isNaN(index)) {
            return {};
        }
        return {values: {index: index}};
    }


    /**
     * Returns the list of entity categories that contain values
     */
    get nonEmptyCategoryIds(): string[] {
        const result: string[] &#x3D; [];
        for (const categoryId in this.highlightDataPerCategory) {
            if (!this.categoryIsEmpty(categoryId, this.highlightDataPerCategory)) {
                result.push(categoryId);
            }
        }
        return result;
    }

    private categoryIsEmpty(categoryId: string, highlightData : HighlightDataPerCategory): boolean {
        return highlightData[categoryId] &#x3D;&#x3D; null
            || highlightData[categoryId].values &#x3D;&#x3D; null
            || highlightData[categoryId].values.length &lt;&#x3D; 0;
    }

    /**
     * @returns true if there is more than one option per category
     * @param categoryId the category id
     */
    public categoryHasMultipleValues(categoryId: string): boolean {
        return this.getHighlightValueCount(categoryId) &gt; 1;
    }

    /**
     * @returns the number of options per category
     * @param categoryId the category id
     */
    public getHighlightValueCount(categoryId: string): number {
        if (!this.highlightDataPerCategory || this.categoryIsEmpty(categoryId, this.highlightDataPerCategory)) {
            return 0;
        }
        const values &#x3D; this.highlightDataPerCategory[categoryId].values;
        if (values &#x3D;&#x3D; null) {
            return 0;
        }
        return values.length;
    }


    // Navigation buttons handlers

    first() {
        if (this.navigationState.current &gt; 0) {
            this.navigationState.current &#x3D; 0;
            this.selectHighlight();
        }
    }

    previous() {
        if (this.navigationState.current &gt; 0) {
            this.navigationState.current--;
            this.selectHighlight();
        }
    }

    next() {
        if (this.navigationState.current &lt; this.total - 1) {
            this.navigationState.current++;
            this.selectHighlight();
        }
    }

    last() {
        if (this.navigationState.current !&#x3D;&#x3D; this.total - 1) {
            this.navigationState.current &#x3D; this.total - 1;
            this.selectHighlight();
        }
    }

    private selectHighlight(): void {
        if (this.filteredHighlightData) {
            const positionInCategories: { [categoryId: string]: number } &#x3D; this.filteredHighlightData[this.navigationState.current].positionInCategories;
            const firstCategory: string &#x3D; Object.keys(positionInCategories)[0];
            this.previewDocument.selectHighlight(firstCategory, positionInCategories[firstCategory]);
        }
    }

    public selectAll(): void {
        for (const categoryId in this.navigationState.filters) {
            this.navigationState.filters[categoryId] &#x3D; this.keepAllFilter;
        }
        this.reset();
    }

    public selectNone(): void {
        for (const categoryId in this.navigationState.filters) {
            this.navigationState.filters[categoryId] &#x3D; this.keepNoneFilter;
        }
        this.reset();
    }

    get allSelected(): boolean {
        for (const categoryId in this.navigationState.filters) {
            const filter: HighlightCategoryFilterState &#x3D; this.navigationState.filters[categoryId];
            if (filter &amp;&amp; filter.choice !&#x3D;&#x3D; HighlightCategoryFilterChoice.All) {
                return false;
            }
        }
        return true;
    }

    get noneSelected(): boolean {
        for (const categoryId in this.navigationState.filters) {
            const filter: HighlightCategoryFilterState &#x3D; this.navigationState.filters[categoryId];
            if (!filter || filter.choice !&#x3D;&#x3D; HighlightCategoryFilterChoice.None) {
                return false;
            }
        }
        return true;
    }


    // Entity filters

    // Trivial filters
    public keepAllFilter: HighlightCategoryFilterState &#x3D; new SimpleHighlightCategoryFilterState();
    public keepNoneFilter: HighlightCategoryFilterState &#x3D; new SimpleHighlightCategoryFilterState(HighlightCategoryFilterChoice.None);

    // Filter created for each option
    public newFilter(value: string) {
        return new SimpleHighlightCategoryFilterState(value);
    }

    // A filter was clicked
    selectFilter(categoryId: string, value: HighlightCategoryFilterState){
        //console.log(categoryId, value);

        // If a specific entity/extract is selected we want to select it, rather than filter other entities
        if(value.choice &#x3D;&#x3D;&#x3D; HighlightCategoryFilterChoice.Value){

            // First, let&#x27;s cancel value filters EXCEPT the one that was just selected
            for(const key in this.navigationState.filters){
                if(key !&#x3D;&#x3D; categoryId &amp;&amp; this.navigationState.filters[key] !&#x3D;&#x3D; this.keepAllFilter &amp;&amp; this.navigationState.filters[key] !&#x3D;&#x3D; this.keepNoneFilter){
                    this.navigationState.filters[key] &#x3D; this.keepAllFilter;
                }
            }

            // Search the entity ID
            let highlight;
            for(const key in this.highlightDataPerLocation){
                highlight &#x3D; this.highlightDataPerLocation[key];
                if(highlight.positionInCategories[categoryId] &amp;&amp; highlight.values.includes(value.filterValue)){
                    break;
                }
            }

            if(highlight){
                this.previewDocument.selectHighlight(categoryId, highlight.positionInCategories[categoryId]);
            }

        }
        else {

            // Cancel value filters
            for(const key in this.navigationState.filters){
                if(this.navigationState.filters[key] !&#x3D;&#x3D; this.keepAllFilter &amp;&amp; this.navigationState.filters[key] !&#x3D;&#x3D; this.keepNoneFilter){
                    this.navigationState.filters[key] &#x3D; this.keepAllFilter;
                }
            }

            // Reset just applies the (non-value) filters as they are and removes selection
            this.reset();

        }
    }

    /**
     * Comparator allowing to sort the filters in the select
     */
    public compareFilters(filter1: HighlightCategoryFilterState, filter2: HighlightCategoryFilterState): boolean {
        return SimpleHighlightCategoryFilterState.compare(filter1, filter2);
    }


}




// Implementation of data structures

class SimpleHighlightNavigationState {

    current: number;
    filters: { [key: string] : HighlightCategoryFilterState};

    constructor(categories: string[]) {
        this.current &#x3D; -1;  // No selection
        this.filters &#x3D; {};
        for (const category of categories) {
            this.filters[category] &#x3D; new SimpleHighlightCategoryFilterState(); // All entities visible by default
        }
    }
}


class SimpleHighlightCategoryFilterState implements HighlightCategoryFilterState {
    readonly choice: HighlightCategoryFilterChoice &#x3D; HighlightCategoryFilterChoice.All;
    private _filterValue: string &#x3D; &quot;&quot;;

    constructor();

    constructor(value: string);

    constructor(choice: HighlightCategoryFilterChoice);

    constructor(param?: string | HighlightCategoryFilterChoice) {
        if (param &#x3D;&#x3D; null) {
            return;
        }
        if (typeof param &#x3D;&#x3D;&#x3D; &quot;string&quot;) {
            this.choice &#x3D; HighlightCategoryFilterChoice.Value;
            this._filterValue &#x3D; param;
        } else {
            this.choice &#x3D; param;
        }
    }

    get filterValue(): string {
        if (this.choice &#x3D;&#x3D;&#x3D; HighlightCategoryFilterChoice.Value) {
            return this._filterValue;
        }
        return &quot;&quot;;
    }

    public static compare(filter1: HighlightCategoryFilterState, filter2: HighlightCategoryFilterState) {
        if(filter1 &amp;&amp; filter2) {
            if(filter1.choice !&#x3D;&#x3D; filter2.choice) {
                return false;
            }
            return filter1.choice !&#x3D;&#x3D; HighlightCategoryFilterChoice.Value
                || filter1.filterValue &#x3D;&#x3D;&#x3D; filter2.filterValue;
        }
        return filter1 &#x3D;&#x3D;&#x3D; filter2;
    }
}


class FilteredHighlightDataPerLocation implements HighlightDataPerLocation {

    [index: number]: {
        start: number;
        length: number;
        values: string[];
        displayValue: string;
        positionInCategories: { [category: string]: number };
    };

    public constructor(baseData: HighlightDataPerLocation, filters: { [key: string] : HighlightCategoryFilterState }) {
        let counter: number &#x3D; 0;
        for (const i in baseData) {
            const categories &#x3D; !baseData[i].positionInCategories ? undefined : Object.keys(baseData[i].positionInCategories);
            if (categories &amp;&amp; this.locationIsIncluded(baseData[i].values, categories, filters)) {
                this[counter] &#x3D; baseData[i];
                counter++;
            }
        }
    }

    size(): number {
        return Object.keys(this).length;
    }

    public locationIsIncluded(values: string[], categories: string[], filters: { [key: string] : HighlightCategoryFilterState }): boolean {
        if (!categories) {
            return false;
        }
        for (const category of categories) {
            if (filters[category] &amp;&amp;
                (filters[category].choice &#x3D;&#x3D;&#x3D; HighlightCategoryFilterChoice.All
                || filters[category].choice &#x3D;&#x3D;&#x3D; HighlightCategoryFilterChoice.Value &amp;&amp; values !&#x3D; null &amp;&amp; values.includes(filters[category].filterValue))) {
                return true;
            }
        }
        return false;
    }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;card sq-facet&quot;&gt;
    &lt;div class&#x3D;&quot;card-header&quot;&gt;{{&#x27;msg#preview.highlightsTitle&#x27; | sqMessage}}&lt;/div&gt;
    &lt;ng-container *ngIf&#x3D;&quot;noData; else normalCase&quot;&gt;
        &lt;div class&#x3D;&quot;card-body noEntityToHighlightMessage&quot;&gt;
            {{&quot;msg#preview.noEntityToHighlight&quot; | sqMessage}}
        &lt;/div&gt;
    &lt;/ng-container&gt;
    &lt;ng-template #normalCase&gt;
        &lt;div class&#x3D;&quot;card-body&quot;&gt;
            &lt;div class&#x3D;&quot;currentSelection&quot;&gt;
                &lt;div class&#x3D;&quot;selectedHighlightTitle&quot;&gt;{{&quot;msg#preview.selectedHighlight&quot; | sqMessage}}:&lt;/div&gt;
                &lt;div class&#x3D;&quot;currentSelectionPanel&quot;&gt;
                    &lt;div *ngIf&#x3D;&quot;currentValue || currentCategories; else noSelection&quot; class&#x3D;&quot;selectedHighlight&quot;&gt;
                        &lt;div class&#x3D;&quot;currentCategories&quot;&gt;
                            &lt;span *ngFor&#x3D;&quot;let categoryId of currentCategories&quot;&gt;
                                &lt;span class&#x3D;&quot;fas fa-bullseye {{ categoryIconClass(categoryId) }} {{ categoryId }}&quot;&gt;&lt;/span&gt;
                                &lt;span class&#x3D;&quot;currentCategoryLabel&quot;&gt;{{categoryDisplayLabel(categoryId) | sqMessage: categoryLabelPipeParams(categoryId)}}&lt;/span&gt;
                            &lt;/span&gt;
                        &lt;/div&gt;
                        &lt;div class&#x3D;&quot;selectedHighlightValue&quot; [innerHTML]&#x3D;&quot;currentValue&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;ng-template #noSelection&gt;
                        &lt;div class&#x3D;&quot;noSelectionMessage&quot;&gt;
                            {{&quot;msg#preview.noSelectedHighlight&quot; | sqMessage}}
                        &lt;/div&gt;
                        &lt;div&gt;&amp;nbsp;&lt;/div&gt;
                    &lt;/ng-template&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;navigation-buttons&quot;&gt;
                &lt;button class&#x3D;&quot;btn btn-secondary&quot; [disabled]&#x3D;&quot;!previewReady&quot; (click)&#x3D;&quot;first()&quot; title&#x3D;&quot;{{&#x27;msg#preview.firstHighlightButtonAltText&#x27; | sqMessage}}&quot;&gt;
                    &lt;span class&#x3D;&quot;fas fa-fast-backward&quot;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;button class&#x3D;&quot;btn btn-secondary&quot; [disabled]&#x3D;&quot;!previewReady&quot; (click)&#x3D;&quot;previous()&quot; title&#x3D;&quot;{{&#x27;msg#preview.previousHighlightButtonAltText&#x27; | sqMessage}}&quot;&gt;
                    &lt;span class&#x3D;&quot;fas fa-step-backward&quot;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;div class&#x3D;&quot;counter-container&quot;&gt;
                    &lt;span class&#x3D;&quot;counter&quot;&gt;{{current | sqNumber}} / {{total | sqNumber}}&lt;/span&gt;
                    &lt;span class&#x3D;&quot;counter ghost&quot;&gt;{{total | sqNumber}} / {{total | sqNumber}}&lt;/span&gt;
                &lt;/div&gt;
                &lt;button class&#x3D;&quot;btn btn-secondary&quot; [disabled]&#x3D;&quot;!previewReady&quot; (click)&#x3D;&quot;next()&quot; title&#x3D;&quot;{{&#x27;msg#preview.nextHighlightButtonAltText&#x27; | sqMessage}}&quot;&gt;
                    &lt;span class&#x3D;&quot;fas fa-step-forward&quot;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;button class&#x3D;&quot;btn btn-secondary&quot; [disabled]&#x3D;&quot;!previewReady&quot; (click)&#x3D;&quot;last()&quot; title&#x3D;&quot;{{&#x27;msg#preview.lastHighlightButtonAltText&#x27; | sqMessage}}&quot;&gt;
                    &lt;span class&#x3D;&quot;fas fa-fast-forward&quot;&gt;&lt;/span&gt;
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;card-body filterPanel&quot;&gt;
            &lt;div class&#x3D;&quot;filterPanelTitle&quot;&gt;
                &lt;span class&#x3D;&quot;fas fa-filter&quot;&gt;&lt;/span&gt;{{ &quot;msg#preview.highlightFilters.title&quot; | sqMessage }}
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;batchSelectButtonsContainer&quot; *ngIf&#x3D;&quot;nonEmptyCategoryIds.length &gt; 1&quot;&gt;
                &lt;div class&#x3D;&quot;batchSelectButtonsPaddingPlaceholder&quot;&gt;&lt;/div&gt;
                &lt;div class&#x3D;&quot;batchSelectButtonsPaddingPlaceholder&quot;&gt;&lt;/div&gt;
                &lt;div class&#x3D;&quot;batchSelectButtons&quot;&gt;
                    &lt;div class&#x3D;&quot;batchSelectButton&quot;&gt;
                        &lt;button class&#x3D;&quot;btn&quot; [disabled]&#x3D;&quot;!previewReady || this.allSelected&quot; (click)&#x3D;&quot;selectAll()&quot;
                                title&#x3D;&quot;{{&#x27;msg#preview.highlightFilters.keepAll&#x27; | sqMessage}}&quot;&gt;
                            &lt;span class&#x3D;&quot;far fa-check-square&quot;&gt;&lt;/span&gt;
                            {{&quot;msg#preview.highlightFilters.keepAll&quot; | sqMessage}}
                        &lt;/button&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;batchSelectButton&quot;&gt;
                        &lt;button class&#x3D;&quot;btn&quot; [disabled]&#x3D;&quot;!previewReady || this.noneSelected&quot; (click)&#x3D;&quot;selectNone()&quot;
                                title&#x3D;&quot;{{&#x27;msg#preview.highlightFilters.keepNone&#x27; | sqMessage}}&quot;&gt;
                            &lt;span class&#x3D;&quot;fas fa-times&quot;&gt;&lt;/span&gt;
                            {{&quot;msg#preview.highlightFilters.keepNone&quot; | sqMessage}}
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;filters&quot;&gt;
                &lt;div *ngFor&#x3D;&quot;let categoryId of nonEmptyCategoryIds&quot; class&#x3D;&quot;sq-highlight&quot;&gt;
                    &lt;div class&#x3D;&quot;categoryIcon&quot;&gt;
                        &lt;span class&#x3D;&quot;fas fa-bullseye {{ categoryIconClass(categoryId) }} {{ categoryId }}&quot;&gt;&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;categoryLabel&quot;&gt;
                        {{getCategoryHighlightData(categoryId)?.categoryDisplayLabelPlural | sqMessage: categoryLabelPipeParams(categoryId)}}:
                    &lt;/div&gt;
                    &lt;div class&#x3D;&quot;categoryFilter&quot;&gt;
                        &lt;ng-container *ngIf&#x3D;&quot;categoryHasMultipleValues(categoryId); else singleValue&quot;&gt;
                            &lt;select class&#x3D;&quot;custom-select&quot; [(ngModel)]&#x3D;&quot;navigationState.filters[categoryId]&quot; [compareWith]&#x3D;&quot;compareFilters&quot; (ngModelChange)&#x3D;&quot;selectFilter(categoryId, $event)&quot;&gt;
                                &lt;option [ngValue]&#x3D;&quot;keepAllFilter&quot;&gt;{{getCategoryHighlightData(categoryId)?.categoryFilterAllLabel | sqMessage}} ({{getHighlightValueCount(categoryId) | sqNumber}})&lt;/option&gt;
                                &lt;option [ngValue]&#x3D;&quot;keepNoneFilter&quot;&gt;{{getCategoryHighlightData(categoryId)?.categoryFilterNoneLabel | sqMessage}}&lt;/option&gt;
                                &lt;option class&#x3D;&quot;selectSeparator&quot; disabled&gt;&amp;nbsp;&lt;/option&gt;
                                &lt;option *ngFor&#x3D;&quot;let entityValue of this.getCategoryHighlightData(categoryId)?.values&quot; [ngValue]&#x3D;&quot;newFilter(entityValue.value)&quot;&gt;{{entityValue.displayValue}}&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/ng-container&gt;
                        &lt;ng-template #singleValue&gt;
                            &lt;select class&#x3D;&quot;custom-select&quot; [(ngModel)]&#x3D;&quot;navigationState.filters[categoryId]&quot; [compareWith]&#x3D;&quot;compareFilters&quot; (ngModelChange)&#x3D;&quot;selectFilter(categoryId, $event)&quot;&gt;
                                &lt;option [ngValue]&#x3D;&quot;keepAllFilter&quot;&gt;
                                    {{getCategoryHighlightData(categoryId)?.categoryFilterAllLabel | sqMessage}}
                                    &lt;ng-container *ngIf&#x3D;&quot;getCategoryHighlightData(categoryId)?.values[0].displayValue as displayValue&quot;&gt;
                                        ({{displayValue}})
                                    &lt;/ng-container&gt;
                                &lt;/option&gt;
                                &lt;option [ngValue]&#x3D;&quot;keepNoneFilter&quot;&gt;{{getCategoryHighlightData(categoryId)?.categoryFilterNoneLabel | sqMessage}}&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/ng-template&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/ng-template&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./preview-highlights.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.noEntityToHighlightMessage {
    opacity: 0.5;
}

.currentSelection {
    margin-bottom: .75rem;
}

.selectedHighlightTitle {
    padding-bottom: 0.375em;
}

.currentSelectionPanel {
    border: 1px solid rgba(0, 0, 0, 0.125);
    padding: .5rem .5rem;
    text-align: center;
}

.currentCategories {
    height: 1.5em;
}

.selectedHighlightValue {
    font-weight: bold;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.noSelectionMessage {
    opacity: 0.5;
}

.navigation-buttons {
    text-align: center;
}

.counter-container {
    display: inline-block;
    position: relative;
}

.counter {
    padding-left: .125rem;
    padding-right: .125rem;
    position: absolute;
    right: 0;
}

.ghost {
    position: static;
    visibility: hidden;
}

.filterPanel {
    display: table;
    border-spacing: 0 0.375em;
}

.filterPanelTitle {
    display:table-caption;
    padding-top: 0.75em;
    padding-left: 0.75em;
    border-top: 1px solid rgba(0, 0, 0, 0.125);
    margin-bottom: -0.5em;
}

.batchSelectButtonsContainer {
    display: table-row;
}

.batchSelectButtonsPaddingPlaceholder {
    display: table-cell;
}

.batchSelectButtons {
    display: table;
    width: 100%;
    table-layout: fixed;
    border-spacing: 0;
}

.batchSelectButton {
    display: table-cell;
}

.batchSelectButton:not(:last-child) {
    padding-right: .5rem;
}

.batchSelectButton button {
    display: block;
    width: 100%;
    white-space: normal;
}

.filterPanelTitle .fa-filter {
    padding-right: 0.375em;
}

.filters {
    display: table-row-group;
}

.sq-highlight {
    display: table-row;
}

.categoryIcon, .categoryLabel {
    display: table-cell;
    padding-right: 0.375em;
    white-space: nowrap;
}

.categoryFilter {
    display: table-cell;
    width: 100%;
}

.selectSeparator {
    font-size: 1pt;
    background-color: #CCCCCC;
}

.sq-highlight {
    flex-wrap: nowrap;

    .btn:focus {
        z-index: 4;
    }

    .sq-highlight-btns {
        flex-direction: row;
    }

    .sq-highlight-item {
        width: 100%;
        .btn {
            width: 100%;
            white-space: normal;
        }
    }

    &amp;:not(:first-child) {
        margin-top: .25rem;
    }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="card sq-facet">    <div class="card-header">{{\'msg#preview.highlightsTitle\' | sqMessage}}</div>    <ng-container *ngIf="noData; else normalCase">        <div class="card-body noEntityToHighlightMessage">            {{"msg#preview.noEntityToHighlight" | sqMessage}}        </div>    </ng-container>    <ng-template #normalCase>        <div class="card-body">            <div class="currentSelection">                <div class="selectedHighlightTitle">{{"msg#preview.selectedHighlight" | sqMessage}}:</div>                <div class="currentSelectionPanel">                    <div *ngIf="currentValue || currentCategories; else noSelection" class="selectedHighlight">                        <div class="currentCategories">                            <span *ngFor="let categoryId of currentCategories">                                <span class="fas fa-bullseye {{ categoryIconClass(categoryId) }} {{ categoryId }}"></span>                                <span class="currentCategoryLabel">{{categoryDisplayLabel(categoryId) | sqMessage: categoryLabelPipeParams(categoryId)}}</span>                            </span>                        </div>                        <div class="selectedHighlightValue" [innerHTML]="currentValue"></div>                    </div>                    <ng-template #noSelection>                        <div class="noSelectionMessage">                            {{"msg#preview.noSelectedHighlight" | sqMessage}}                        </div>                        <div>&nbsp;</div>                    </ng-template>                </div>            </div>            <div class="navigation-buttons">                <button class="btn btn-secondary" [disabled]="!previewReady" (click)="first()" title="{{\'msg#preview.firstHighlightButtonAltText\' | sqMessage}}">                    <span class="fas fa-fast-backward"></span>                </button>                <button class="btn btn-secondary" [disabled]="!previewReady" (click)="previous()" title="{{\'msg#preview.previousHighlightButtonAltText\' | sqMessage}}">                    <span class="fas fa-step-backward"></span>                </button>                <div class="counter-container">                    <span class="counter">{{current | sqNumber}} / {{total | sqNumber}}</span>                    <span class="counter ghost">{{total | sqNumber}} / {{total | sqNumber}}</span>                </div>                <button class="btn btn-secondary" [disabled]="!previewReady" (click)="next()" title="{{\'msg#preview.nextHighlightButtonAltText\' | sqMessage}}">                    <span class="fas fa-step-forward"></span>                </button>                <button class="btn btn-secondary" [disabled]="!previewReady" (click)="last()" title="{{\'msg#preview.lastHighlightButtonAltText\' | sqMessage}}">                    <span class="fas fa-fast-forward"></span>                </button>            </div>        </div>        <div class="card-body filterPanel">            <div class="filterPanelTitle">                <span class="fas fa-filter"></span>{{ "msg#preview.highlightFilters.title" | sqMessage }}            </div>            <div class="batchSelectButtonsContainer" *ngIf="nonEmptyCategoryIds.length > 1">                <div class="batchSelectButtonsPaddingPlaceholder"></div>                <div class="batchSelectButtonsPaddingPlaceholder"></div>                <div class="batchSelectButtons">                    <div class="batchSelectButton">                        <button class="btn" [disabled]="!previewReady || this.allSelected" (click)="selectAll()"                                title="{{\'msg#preview.highlightFilters.keepAll\' | sqMessage}}">                            <span class="far fa-check-square"></span>                            {{"msg#preview.highlightFilters.keepAll" | sqMessage}}                        </button>                    </div>                    <div class="batchSelectButton">                        <button class="btn" [disabled]="!previewReady || this.noneSelected" (click)="selectNone()"                                title="{{\'msg#preview.highlightFilters.keepNone\' | sqMessage}}">                            <span class="fas fa-times"></span>                            {{"msg#preview.highlightFilters.keepNone" | sqMessage}}                        </button>                    </div>                </div>            </div>            <div class="filters">                <div *ngFor="let categoryId of nonEmptyCategoryIds" class="sq-highlight">                    <div class="categoryIcon">                        <span class="fas fa-bullseye {{ categoryIconClass(categoryId) }} {{ categoryId }}"></span>                    </div>                    <div class="categoryLabel">                        {{getCategoryHighlightData(categoryId)?.categoryDisplayLabelPlural | sqMessage: categoryLabelPipeParams(categoryId)}}:                    </div>                    <div class="categoryFilter">                        <ng-container *ngIf="categoryHasMultipleValues(categoryId); else singleValue">                            <select class="custom-select" [(ngModel)]="navigationState.filters[categoryId]" [compareWith]="compareFilters" (ngModelChange)="selectFilter(categoryId, $event)">                                <option [ngValue]="keepAllFilter">{{getCategoryHighlightData(categoryId)?.categoryFilterAllLabel | sqMessage}} ({{getHighlightValueCount(categoryId) | sqNumber}})</option>                                <option [ngValue]="keepNoneFilter">{{getCategoryHighlightData(categoryId)?.categoryFilterNoneLabel | sqMessage}}</option>                                <option class="selectSeparator" disabled>&nbsp;</option>                                <option *ngFor="let entityValue of this.getCategoryHighlightData(categoryId)?.values" [ngValue]="newFilter(entityValue.value)">{{entityValue.displayValue}}</option>                            </select>                        </ng-container>                        <ng-template #singleValue>                            <select class="custom-select" [(ngModel)]="navigationState.filters[categoryId]" [compareWith]="compareFilters" (ngModelChange)="selectFilter(categoryId, $event)">                                <option [ngValue]="keepAllFilter">                                    {{getCategoryHighlightData(categoryId)?.categoryFilterAllLabel | sqMessage}}                                    <ng-container *ngIf="getCategoryHighlightData(categoryId)?.values[0].displayValue as displayValue">                                        ({{displayValue}})                                    </ng-container>                                </option>                                <option [ngValue]="keepNoneFilter">{{getCategoryHighlightData(categoryId)?.categoryFilterNoneLabel | sqMessage}}</option>                            </select>                        </ng-template>                    </div>                </div>            </div>        </div>    </ng-template></div></div>'
    var COMPONENTS = [{'name': 'BsActionButtons', 'selector': '[sq-action-buttons]'},{'name': 'BsActionItem', 'selector': '[sq-action-item]'},{'name': 'BsActionItemContent', 'selector': 'sq-action-item-content'},{'name': 'BsActionMenu', 'selector': 'sq-action-menu'},{'name': 'BsAdvanced', 'selector': 'sq-advanced'},{'name': 'BsAdvancedForm', 'selector': 'sq-advanced-form'},{'name': 'BsAdvancedFormCheckbox', 'selector': 'sq-advanced-form-checkbox'},{'name': 'BsAdvancedFormEntry', 'selector': 'sq-advanced-form-entry'},{'name': 'BsAdvancedFormMultiEntry', 'selector': 'sq-advanced-form-multi-entry'},{'name': 'BsAdvancedFormRange', 'selector': 'sq-advanced-form-range'},{'name': 'BsAdvancedFormSelect', 'selector': 'sq-advanced-form-select'},{'name': 'BsAlertsMenuComponent', 'selector': 'sq-alerts-menu'},{'name': 'BsAutocompleteList', 'selector': 'sq-autocomplete-list'},{'name': 'BsBasketsMenuComponent', 'selector': 'sq-baskets-menu'},{'name': 'BsBreadcrumbs', 'selector': 'sq-breadcrumbs'},{'name': 'BsConfirm', 'selector': 'sq-confirm'},{'name': 'BsDatePicker', 'selector': 'sq-date-picker'},{'name': 'BsDateRangePicker', 'selector': 'sq-date-range-picker'},{'name': 'BsDidYouMean', 'selector': 'sq-did-you-mean'},{'name': 'BsDropdownMenu', 'selector': '[sq-dropdown-menu]'},{'name': 'BsEditable', 'selector': 'sq-editable'},{'name': 'BsEditAlert', 'selector': 'sq-edit-alert'},{'name': 'BsEditBasket', 'selector': 'sq-edit-basket'},{'name': 'BsEditSavedQuery', 'selector': 'sq-edit-saved-query'},{'name': 'BsEditUserSettings', 'selector': 'sq-edit-user-settings'},{'name': 'BsExportQuery', 'selector': 'sq-export-query'},{'name': 'BsFacetBar', 'selector': 'sq-facet-bar'},{'name': 'BsFacetBasketsComponent', 'selector': 'sq-facet-baskets'},{'name': 'BsFacetCard', 'selector': 'sq-facet-card'},{'name': 'BsFacetFilters', 'selector': 'qp-facet-filters'},{'name': 'BsFacetFiltersBackground', 'selector': 'qp-facet-filters-background'},{'name': 'BsFacetHeatmapComponent', 'selector': 'sq-facet-heatmap'},{'name': 'BsFacetList', 'selector': 'sq-facet-list'},{'name': 'BsFacetMultiComponent', 'selector': 'sq-facet-multi'},{'name': 'BsFacetPreview', 'selector': 'sq-facet-preview'},{'name': 'BsFacetPreviewComponent2', 'selector': 'sq-facet-preview-2'},{'name': 'BsFacetRange', 'selector': 'sq-facet-range'},{'name': 'BsFacetRecentDocuments', 'selector': 'sq-facet-recent-documents'},{'name': 'BsFacetRecentQueries', 'selector': 'sq-facet-recent-queries'},{'name': 'BsFacetSavedQueries', 'selector': 'sq-facet-saved-queries'},{'name': 'BsFacetTimelineComponent', 'selector': 'sq-facet-timeline'},{'name': 'BsFacetTree', 'selector': 'sq-facet-tree'},{'name': 'BsFeedbackForm', 'selector': 'sq-feedback-form'},{'name': 'BsFeedbackMenu', 'selector': 'sq-feedback-menu'},{'name': 'BsFullscreenActivator', 'selector': 'sq-fullscreen-activator'},{'name': 'BsHeatmapComponent', 'selector': 'sq-heatmap'},{'name': 'BsHelp', 'selector': 'sq-help'},{'name': 'BsLabelsActionItem', 'selector': 'sq-labels-action-item'},{'name': 'BsLabelsMenuComponent', 'selector': 'sq-labels-menu'},{'name': 'BsLoadingBar', 'selector': 'sq-loading-bar'},{'name': 'BsLogin', 'selector': 'sq-login'},{'name': 'BsManageAlerts', 'selector': 'sq-manage-alerts'},{'name': 'BsManageBaskets', 'selector': 'sq-manage-baskets'},{'name': 'BsManageSavedQueries', 'selector': 'sq-manage-saved-queries'},{'name': 'BsModal', 'selector': 'sq-modal'},{'name': 'BsModalFooter', 'selector': 'sq-modal-footer'},{'name': 'BsModalHeader', 'selector': 'sq-modal-header'},{'name': 'BsMultiEntryInput', 'selector': 'sq-multi-entry-input'},{'name': 'BsMySearch', 'selector': 'sq-mysearch'},{'name': 'BsNetworkActivity', 'selector': 'sq-network-activity'},{'name': 'BsNotification', 'selector': 'sq-notification'},{'name': 'BsNotifications', 'selector': 'sq-notifications'},{'name': 'BsNotificationsManager', 'selector': 'sq-notifications-manager'},{'name': 'BsNumericRangeInput', 'selector': 'sq-numeric-range-input'},{'name': 'BsOverrideUser', 'selector': 'sq-override-user'},{'name': 'BsPager', 'selector': 'sq-pager'},{'name': 'BsPageSizeSelector', 'selector': 'sq-page-size-selector'},{'name': 'BsPreviewEntityFacetComponent', 'selector': 'sq-preview-entity-facet'},{'name': 'BsPreviewEntityPanelComponent', 'selector': 'sq-preview-entity-panel'},{'name': 'BsPreviewExtractsPanelComponent', 'selector': 'sq-preview-extracts-panel'},{'name': 'BsPreviewHighlights', 'selector': 'sq-preview-highlights'},{'name': 'BsPreviewLinks', 'selector': 'sq-preview-links'},{'name': 'BsPreviewPanel', 'selector': 'sq-preview-panel'},{'name': 'BsPreviewPopup', 'selector': 'sq-preview-popup'},{'name': 'BsPreviewSearchFormComponent', 'selector': 'sq-preview-search-form'},{'name': 'BsQueryExporter', 'selector': 'sq-query-exporter'},{'name': 'BsRefine', 'selector': 'sq-refine'},{'name': 'BsRenameLabel', 'selector': 'sq-rename-label'},{'name': 'BsResultBaskets', 'selector': 'sq-result-baskets'},{'name': 'BsResultLinkPreview', 'selector': 'sq-result-link-preview'},{'name': 'BsResultSelector', 'selector': 'sq-result-selector'},{'name': 'BsResultsGridView', 'selector': 'sq-results-grid-view'},{'name': 'BsResultsHeatmapView', 'selector': 'sq-results-heatmap-view'},{'name': 'BsResultsScatterView', 'selector': 'sq-results-scatter-view'},{'name': 'BsResultsSelector', 'selector': 'sq-results-selector'},{'name': 'BsResultsViewConfigurator', 'selector': 'sq-results-view-configurator'},{'name': 'BsResultsViewSelector', 'selector': 'sq-results-view-selector'},{'name': 'BsRfmAction', 'selector': 'sq-rfm-action'},{'name': 'BsSavedQueriesMenuComponent', 'selector': 'sq-saved-queries-menu'},{'name': 'BsSelectBasket', 'selector': 'sq-select-basket'},{'name': 'BsSelectComponent', 'selector': 'sq-select'},{'name': 'BsSelectionArranger', 'selector': 'sq-selection-arranger'},{'name': 'BsSimilarDocs', 'selector': 'sq-similar-docs'},{'name': 'BsSimilarDocuments', 'selector': 'sq-similar-documents'},{'name': 'BsSortSelector', 'selector': 'sq-sort-selector'},{'name': 'BsTabs', 'selector': 'sq-tabs'},{'name': 'BsTimelineComponent', 'selector': 'sq-timeline'},{'name': 'BsTooltipComponent', 'selector': 'sq-tooltip'},{'name': 'BsUserMenuComponent', 'selector': 'sq-user-menu'},{'name': 'BsUserSettingsEditor', 'selector': 'sq-user-settings-editor'},{'name': 'Collapse', 'selector': 'sq-collapse'},{'name': 'CollapseButton', 'selector': 'sq-collapse-button'},{'name': 'CollapseLink', 'selector': 'sq-collapse-link'},{'name': 'FacetNgxChart', 'selector': 'sq-facet-ngx-chart'},{'name': 'FusionChart', 'selector': 'sq-fusion-chart'},{'name': 'Labels', 'selector': 'sq-labels'},{'name': 'MdConfirm', 'selector': 'sq-confirm'},{'name': 'MdLogin', 'selector': 'sq-login'},{'name': 'MdModal', 'selector': 'sq-modal'},{'name': 'MdModalFooter', 'selector': 'sq-modal-footer'},{'name': 'MdModalHeader', 'selector': 'sq-modal-header'},{'name': 'Metadata', 'selector': 'sq-metadata'},{'name': 'MetadataAccessListsItem', 'selector': 'sq-metadata-access-lists-item'},{'name': 'MetadataAccessListsItemSingleAccessList', 'selector': 'sq-metadata-access-lists-item-single-access-list'},{'name': 'MetadataItem', 'selector': 'sq-metadata-item'},{'name': 'NgxChart', 'selector': 'sq-ngx-chart'},{'name': 'PreviewDocumentIframe', 'selector': 'sq-preview-document-iframe'},{'name': 'PreviewTooltip', 'selector': 'sq-preview-tooltip'},{'name': 'ResultEntitySummary', 'selector': 'sq-result-entity-summary'},{'name': 'ResultExtracts', 'selector': 'sq-result-extracts'},{'name': 'ResultIcon', 'selector': 'sq-result-icon'},{'name': 'ResultLabels', 'selector': 'sq-result-labels'},{'name': 'ResultMetadata', 'selector': 'sq-result-metadata'},{'name': 'ResultMissingTerms', 'selector': 'sq-result-missing-terms'},{'name': 'ResultsCounter', 'selector': 'sq-results-counter'},{'name': 'ResultSource', 'selector': 'sq-result-source'},{'name': 'ResultThumbnail', 'selector': 'sq-result-thumbnail'},{'name': 'ResultTimeline', 'selector': 'sq-result-timeline'},{'name': 'ResultTitle', 'selector': 'sq-result-title'},{'name': 'SponsoredResults', 'selector': 'sq-sponsored-results'},{'name': 'StickyComponent', 'selector': '[sqSticky]'},{'name': 'UserRating', 'selector': 'sq-user-rating'}];
    var DIRECTIVES = [{'name': 'Autocomplete', 'selector': '[sqAutocomplete]'},{'name': 'Autofocus', 'selector': '[sqAutofocus]'},{'name': 'BsAdvancedFormAutocomplete', 'selector': '[sq-advanced-form-autocomplete]'},{'name': 'BsAdvancedFormValidation', 'selector': '[sq-advanced-form-validation]'},{'name': 'BsDropdownDirective', 'selector': 'gSelector.DATA_TOGGLE'},{'name': 'ClickOutside', 'selector': '[sqClickOutside]'},{'name': 'DwellTime', 'selector': '[sqDwellTime]'},{'name': 'FocusKeyListDirective', 'selector': '[sqFocusKeyList]'},{'name': 'FocusKeyListItemDirective', 'selector': '[sqFocusKeyListItem]'},{'name': 'LabelsAutocomplete', 'selector': '[sqAutocompleteLabels]'},{'name': 'Load', 'selector': '[sqLoad]'},{'name': 'MediaIf', 'selector': '[sqMediaIf]'},{'name': 'ResizeEventDirective', 'selector': '[sqResize]'},{'name': 'ScrollIntoView', 'selector': '[sqScrollIntoView]'}];
    var ACTUAL_COMPONENT = {'name': 'BsPreviewHighlights'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'BsPreviewHighlights.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
